{
    "id": "dinh-ly-kep",
    "title": "Định Lý Kẹp",
    "description": "Hàm bị kẹp giữa hai hàm hội tụ cùng giới hạn thì cũng hội tụ về giới hạn đó.",
    "xp_reward": 15,
    "order_index": 0,
    "slides": [
        {
            "order_index": 0,
            "blocks": [
                {
                    "id": "ia-kep",
                    "type": "interaction",
                    "content": {
                        "interactionType": "B",
                        "lesson": {
                            "interactionType": "B",
                            "meta": {
                                "parameterLabel": "Lũy thừa kẹp"
                            },
                            "parameter": {
                                "min": 0,
                                "max": 2.5,
                                "initial": 2
                            },
                            "system": {
                                "resolution": 400,
                                "view": {
                                    "xMin": -1,
                                    "xMax": 1,
                                    "yMin": -1.2,
                                    "yMax": 1.2
                                },
                                "model": "pow(abs(x), p) * sin(1 / (abs(x) + 0.001))"
                            },
                            "reflections": [
                                {
                                    "id": "no-squeeze",
                                    "trigger": "state.currentValue < 0.3",
                                    "text": "Không có thừa số kẹp — dao động mãnh liệt gần x = 0. Giới hạn không tồn tại."
                                },
                                {
                                    "id": "squeeze",
                                    "trigger": "state.currentValue > 0.8 && state.currentValue < 1.3",
                                    "text": "Thừa số |x|^p kẹp biên độ. Dao động bị thu nhỏ → giới hạn = 0."
                                },
                                {
                                    "id": "strong-squeeze",
                                    "trigger": "state.currentValue > 1.8",
                                    "text": "x² kẹp mạnh — dao động bị nghiền nát về 0. Định lý Kẹp đảm bảo lim = 0."
                                }
                            ],
                            "prompt": "Tăng lũy thừa kẹp. Khi nào dao động bị triệt tiêu gần x = 0?"
                        }
                    }
                }
            ]
        },
        {
            "order_index": 1,
            "blocks": [
                {
                    "id": "text-dinh-ly",
                    "type": "text",
                    "content": {
                        "heading": "Định lý Kẹp (Squeeze Theorem)",
                        "paragraphs": [
                            "Nếu $g(x) \\leq f(x) \\leq h(x)$ gần $a$ và $\\lim_{x \\to a} g(x) = \\lim_{x \\to a} h(x) = L$, thì $\\lim_{x \\to a} f(x) = L$."
                        ]
                    }
                },
                {
                    "id": "math-kep",
                    "type": "math",
                    "content": {
                        "latex": "g(x) \\leq f(x) \\leq h(x) \\text{ và } \\lim g = \\lim h = L \\Rightarrow \\lim f = L"
                    }
                }
            ]
        },
        {
            "order_index": 2,
            "blocks": [
                {
                    "id": "text-ap-dung",
                    "type": "text",
                    "content": {
                        "heading": "Áp dụng: $x^2 \\sin(1/x)$",
                        "paragraphs": [
                            "$-1 \\leq \\sin(1/x) \\leq 1$ nên $-x^2 \\leq x^2 \\sin(1/x) \\leq x^2$. Vì $\\lim_{x \\to 0}(-x^2) = \\lim_{x \\to 0}(x^2) = 0$, Định lý Kẹp cho $\\lim_{x \\to 0} x^2 \\sin(1/x) = 0$."
                        ]
                    }
                }
            ]
        },
        {
            "order_index": 3,
            "blocks": [
                {
                    "id": "quiz-l7-1",
                    "type": "quiz",
                    "content": {
                        "question": "Khi tăng lũy thừa kẹp, đường cong dao động gần $x = 0$:",
                        "options": [
                            {
                                "value": "a",
                                "label": "Thoát ra ngoài biên"
                            },
                            {
                                "value": "b",
                                "label": "Bị ép phẳng về 0 — dao động bị triệt tiêu"
                            },
                            {
                                "value": "c",
                                "label": "Phát tán"
                            },
                            {
                                "value": "d",
                                "label": "Ngừng dao động"
                            }
                        ],
                        "correct": "b",
                        "explanation": "Thừa số $|x|^p$ → 0 khi $x \\to 0$, kẹp biên độ dao động về 0."
                    }
                }
            ]
        },
        {
            "order_index": 4,
            "blocks": [
                {
                    "id": "quiz-l7-2",
                    "type": "quiz",
                    "content": {
                        "question": "$\\lim_{x \\to 0} x^2 = $?",
                        "options": [
                            {
                                "value": "a",
                                "label": "1"
                            },
                            {
                                "value": "b",
                                "label": "0"
                            },
                            {
                                "value": "c",
                                "label": "$\\infty$"
                            },
                            {
                                "value": "d",
                                "label": "Không tồn tại"
                            }
                        ],
                        "correct": "b",
                        "explanation": "$x^2 \\to 0$ khi $x \\to 0$."
                    }
                }
            ]
        },
        {
            "order_index": 5,
            "blocks": [
                {
                    "id": "quiz-l7-3",
                    "type": "quiz",
                    "content": {
                        "question": "$\\lim_{x \\to 0}(-x^2) = $?",
                        "options": [
                            {
                                "value": "a",
                                "label": "1"
                            },
                            {
                                "value": "b",
                                "label": "0"
                            },
                            {
                                "value": "c",
                                "label": "$-1$"
                            },
                            {
                                "value": "d",
                                "label": "Không tồn tại"
                            }
                        ],
                        "correct": "b",
                        "explanation": "$-x^2 \\to 0$ khi $x \\to 0$. Cả hai biên cùng → 0."
                    }
                }
            ]
        },
        {
            "order_index": 6,
            "blocks": [
                {
                    "id": "quiz-l7-4",
                    "type": "quiz",
                    "content": {
                        "question": "Cả hai biên có cùng giới hạn (0). Định lý Kẹp đảm bảo:",
                        "options": [
                            {
                                "value": "a",
                                "label": "$f$ dao động mãi"
                            },
                            {
                                "value": "b",
                                "label": "$\\lim f = 0$"
                            },
                            {
                                "value": "c",
                                "label": "$f(0) = 0$"
                            },
                            {
                                "value": "d",
                                "label": "$f$ không có giới hạn"
                            }
                        ],
                        "correct": "b",
                        "explanation": "Kẹp giữa hai hàm cùng → 0 nên $f$ cũng → 0."
                    }
                }
            ]
        },
        {
            "order_index": 7,
            "blocks": [
                {
                    "id": "quiz-l7-5",
                    "type": "quiz",
                    "content": {
                        "question": "$-x^4 \\leq f(x) \\leq x^4$ gần $x = 0$. $\\lim_{x \\to 0} f(x) = $?",
                        "options": [
                            {
                                "value": "a",
                                "label": "0"
                            },
                            {
                                "value": "b",
                                "label": "1"
                            },
                            {
                                "value": "c",
                                "label": "Không tồn tại"
                            },
                            {
                                "value": "d",
                                "label": "$\\pm 1$"
                            }
                        ],
                        "correct": "a",
                        "explanation": "Cả hai biên → 0. Định lý Kẹp → $\\lim f = 0$."
                    }
                }
            ]
        },
        {
            "order_index": 8,
            "blocks": [
                {
                    "id": "quiz-l7-6",
                    "type": "quiz",
                    "content": {
                        "question": "Tại sao $\\sin(1/x)$ không có giới hạn (Bài 3) nhưng $x^2 \\sin(1/x)$ có?",
                        "options": [
                            {
                                "value": "a",
                                "label": "Hàm hoàn toàn khác"
                            },
                            {
                                "value": "b",
                                "label": "Thừa số $x^2$ thu nhỏ biên độ dao động về 0 khi $x \\to 0$"
                            },
                            {
                                "value": "c",
                                "label": "$\\sin(1/x)$ giờ hội tụ"
                            },
                            {
                                "value": "d",
                                "label": "Miền xác định đã thay đổi"
                            }
                        ],
                        "correct": "b",
                        "explanation": "$|\\sin| \\leq 1$ nhưng $x^2 \\to 0$ — biên độ bị thu nhỏ không thể cưỡng."
                    }
                }
            ]
        },
        {
            "order_index": 9,
            "blocks": [
                {
                    "id": "quiz-l7-7",
                    "type": "quiz",
                    "content": {
                        "question": "Định lý Kẹp yêu cầu:",
                        "options": [
                            {
                                "value": "a",
                                "label": "$f = g = h$"
                            },
                            {
                                "value": "b",
                                "label": "$g \\leq f \\leq h$ gần $a$ và $\\lim g = \\lim h$"
                            },
                            {
                                "value": "c",
                                "label": "Ba hàm liên tục"
                            },
                            {
                                "value": "d",
                                "label": "$a = 0$"
                            }
                        ],
                        "correct": "b",
                        "explanation": "Cần bất đẳng thức kẹp VÀ hai biên cùng giới hạn."
                    }
                }
            ]
        },
        {
            "order_index": 10,
            "blocks": [
                {
                    "id": "quiz-l7-8",
                    "type": "quiz",
                    "content": {
                        "question": "Nhiệt phòng nằm giữa nhiệt lò sưởi (→21°C) và nhiệt ngoài trời (→21°C). Giới hạn nhiệt phòng?",
                        "options": [
                            {
                                "value": "a",
                                "label": "21°C"
                            },
                            {
                                "value": "b",
                                "label": "0°C"
                            },
                            {
                                "value": "c",
                                "label": "Không xác định"
                            },
                            {
                                "value": "d",
                                "label": "Không tồn tại"
                            }
                        ],
                        "correct": "a",
                        "explanation": "Kẹp giữa hai đại lượng cùng → 21°C. Định lý Kẹp → nhiệt phòng → 21°C."
                    }
                }
            ]
        },
        {
            "order_index": 11,
            "blocks": [
                {
                    "id": "quiz-l7-9",
                    "type": "quiz",
                    "content": {
                        "question": "$2x + 1 \\leq f(x) \\leq x^2 + 2x + 1$ gần $x = 0$. $\\lim_{x \\to 0} f(x) = $?",
                        "options": [
                            {
                                "value": "a",
                                "label": "0"
                            },
                            {
                                "value": "b",
                                "label": "1"
                            },
                            {
                                "value": "c",
                                "label": "2"
                            },
                            {
                                "value": "d",
                                "label": "Không tồn tại"
                            }
                        ],
                        "correct": "b",
                        "explanation": "Biên dưới: $2(0)+1 = 1$. Biên trên: $0 + 0 + 1 = 1$. Cùng → 1. Lim $f$ = 1."
                    }
                }
            ]
        }
    ]
}