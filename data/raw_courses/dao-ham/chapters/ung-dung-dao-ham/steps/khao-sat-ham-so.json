{
  "id": "khao-sat-ham-so",
  "title": "Khảo sát hàm số",
  "description": "Vẽ đồ thị hàm số",
  "xp_reward": 20,
  "order_index": 1,
  "slides": [
    {
      "order_index": 0,
      "blocks": [
        {
          "id": "survey1",
          "type": "text",
          "content": {
            "heading": "Các bước khảo sát",
            "paragraphs": [
              "1. Tìm tập xác định",
              "2. Tính đạo hàm $f'(x)$, tìm cực trị",
              "3. Xét tính đồng biến, nghịch biến",
              "4. Tìm tiệm cận (nếu có)",
              "5. Vẽ đồ thị"
            ]
          }
        }
      ]
    },
    {
      "order_index": 1,
      "blocks": [
        {
          "id": "ia-khao-sat-ham-so",
          "type": "interaction",
          "content": {
            "interactionType": "A",
            "lesson": {
              "interactionType": "A",
              "parameterSpec": {
                "resolutionLevels": [2, 4, 6, 8, 12, 16, 24, 32, 48, 64]
              },
              "systemSpec": {
                "function": "x*x*x - 3*x",
                "derivative": "3*x*x - 3",
                "domain": [-2.5, 2.5],
                "range": [-3, 3],
                "anchor": 1
              },
              "reflectionSpec": {
                "triggers": [
                  {
                    "conditionSpec": { "field": "resolution", "op": ">=", "value": 24 },
                    "message": "f(x) = x³ − 3x có f'(x) = 3x² − 3. Tại neo x=1: f'(1) = 0 — đây là cực trị! Tiếp tuyến nằm ngang."
                  }
                ]
              }
            }
          }
        }
      ]
    }
  ]
}