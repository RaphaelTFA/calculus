{
  "id": "dao-ham-ham-hop",
  "title": "Đạo hàm hàm hợp",
  "description": "Chain rule",
  "xp_reward": 18,
  "order_index": 2,
  "slides": [
    {
      "order_index": 0,
      "blocks": [
        {
          "id": "chain1",
          "type": "text",
          "content": {
            "heading": "Quy tắc dây chuyền (Chain Rule)",
            "paragraphs": [
              "Nếu y = f(u) và u = g(x):"
            ]
          }
        },
        {
          "id": "math22",
          "type": "math",
          "content": {
            "latex": "\\frac{dy}{dx} = \\frac{dy}{du} \\cdot \\frac{du}{dx}"
          }
        },
        {
          "id": "math23",
          "type": "math",
          "content": {
            "latex": "[f(g(x))]' = f'(g(x)) \\cdot g'(x)"
          }
        }
      ]
    },
    {
      "order_index": 1,
      "blocks": [
        {
          "id": "quiz7",
          "type": "quiz",
          "content": {
            "question": "Tính $(\\sin(2x))' = ?$",
            "options": [
              {
                "value": "a",
                "label": "$\\cos(2x)$"
              },
              {
                "value": "b",
                "label": "$2\\cos(2x)$"
              },
              {
                "value": "c",
                "label": "$-2\\sin(2x)$"
              }
            ],
            "correct": "b",
            "explanation": "Chain rule: $(\\sin u)' = \\cos u \\cdot u'$. Với $u=2x$, ta có $\\cos(2x) \\cdot 2 = 2\\cos(2x)$"
          }
        }
      ]
    },
    {
      "order_index": 2,
      "blocks": [
        {
          "id": "ia-dao-ham-ham-hop",
          "type": "interaction",
          "content": {
            "interactionType": "C",
            "lesson": {
              "interactionType": "C",
              "parameterSpec": {
                "time": { "start": 0, "end": 6.28318, "step": 0.025 }
              },
              "systemSpec": {
                "initialState": { "x": 1, "y": 0 },
                "evolutionRule": {
                  "type": "expression",
                  "expression": "[-2*sin(2*t), cos(t)]",
                  "variables": ["t"]
                }
              },
              "representationSpec": {
                "encoding": "motion",
                "viewBox": { "xMin": -1.5, "xMax": 1.5, "yMin": -1.5, "yMax": 1.5 }
              },
              "reflectionSpec": {
                "triggers": [
                  {
                    "type": "timeReached",
                    "value": 1.57,
                    "message": "Quy tắc dây chuyền: dx/dt = −2·sin(2t), dy/dt = cos(t). Vận tốc của hàm hợp bằng tích các vận tốc thành phần!"
                  },
                  {
                    "type": "timeReached",
                    "value": 5.5,
                    "message": "Đường Lissajous x=cos(2t), y=sin(t) — kết quả của hai hàm hợp nhau theo quy tắc dây chuyền."
                  }
                ]
              }
            }
          }
        }
      ]
    }
  ]
}