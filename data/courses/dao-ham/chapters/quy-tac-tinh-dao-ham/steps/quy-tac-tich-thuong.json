{
  "id": "quy-tac-tich-thuong",
  "title": "Quy tắc tích, thương",
  "description": "Đạo hàm tích và thương",
  "xp_reward": 15,
  "order_index": 1,
  "slides": [
    {
      "order_index": 0,
      "blocks": [
        {
          "id": "prod1",
          "type": "text",
          "content": {
            "heading": "Quy tắc tích (Product Rule)",
            "paragraphs": []
          }
        },
        {
          "id": "math20",
          "type": "math",
          "content": {
            "latex": "[f(x) \\cdot g(x)]' = f'(x)g(x) + f(x)g'(x)"
          }
        }
      ]
    },
    {
      "order_index": 1,
      "blocks": [
        {
          "id": "quot1",
          "type": "text",
          "content": {
            "heading": "Quy tắc thương (Quotient Rule)",
            "paragraphs": []
          }
        },
        {
          "id": "math21",
          "type": "math",
          "content": {
            "latex": "\\left[\\frac{f(x)}{g(x)}\\right]' = \\frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}"
          }
        }
      ]
    },
    {
      "order_index": 2,
      "blocks": [
        {
          "id": "ia-quy-tac-tich-thuong",
          "type": "interaction",
          "content": {
            "interactionType": "E",
            "lesson": {
              "interactionType": "E",
              "parameterSpec": {
                "structure": { "min": 0, "max": 1, "step": 0.01, "initial": 0.5, "label": "Nhấn mạnh thành phần" }
              },
              "systemSpec": {
                "baseValues": { "u": 4, "v": 3, "du": 1, "dv": 1 },
                "conservedObject": { "type": "expression", "expression": "u*dv + v*du", "variables": ["u", "v", "du", "dv"] }
              },
              "reflectionSpec": {
                "triggers": [
                  { "type": "structureNear",  "value": 0.5, "tolerance": 0.08, "message": "Hai phần u·dv và v·du đang được nhấn mạnh ngang nhau — cả hai cùng tạo nên d(uv)." },
                  { "type": "structureBelow", "value": 0.2,                    "message": "Phần u·dv nổi bật: v tăng thêm dv trong khi u cố định." },
                  { "type": "structureAbove", "value": 0.8,                    "message": "Phần v·du nổi bật: u tăng thêm du trong khi v cố định." }
                ]
              },
              "representationSpec": {
                "mode": "geometricSplit",
                "geometryBase": { "type": "rectangle", "origin": [0, 0], "width": "u", "height": "v" },
                "splitSpec": { "type": "rectangleContribution" },
                "viewBox": { "xMin": -0.3, "xMax": 6.5, "yMin": -0.3, "yMax": 5.5 }
              }
            }
          }
        }
      ]
    }
  ]
}