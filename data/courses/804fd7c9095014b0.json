{
  "slug": "gioi-han",
  "title": "Giới Hạn",
  "description": "Chính xác hóa khái niệm 'tiến đến một giá trị' — nền tảng cho đạo hàm và tích phân.",
  "illustration": "https://ds055uzetaobb.cloudfront.net/brioche/chapter/Coordinate_Plane-TjmV5y.png?width=204",
  "icon": "ε",
  "color": "from-emerald-500 to-teal-700",
  "category_slug": "giai-tich",
  "difficulty": "beginner",
  "is_published": true,
  "is_featured": true,
  "order_index": 1,
  "chapters": [
    {
      "id": "gioi-han-nang-cao",
      "title": "Giới hạn nâng cao",
      "description": "Định lý Kẹp, tính liên tục, giới hạn tại vô cực, và định nghĩa ε–δ",
      "order_index": 2,
      "steps": [
        {
          "id": "dinh-ly-kep",
          "title": "Định Lý Kẹp",
          "description": "Hàm bị kẹp giữa hai hàm hội tụ cùng giới hạn thì cũng hội tụ về giới hạn đó.",
          "xp_reward": 15,
          "order_index": 0,
          "slides": [
            {
              "order_index": 0,
              "blocks": [
                {
                  "id": "ia-kep",
                  "type": "interaction",
                  "content": {
                    "interactionType": "B",
                    "lesson": {
                      "interactionType": "B",
                      "meta": {
                        "parameterLabel": "Lũy thừa kẹp"
                      },
                      "parameter": {
                        "min": 0,
                        "max": 2.5,
                        "initial": 2
                      },
                      "system": {
                        "resolution": 400,
                        "view": {
                          "xMin": -1,
                          "xMax": 1,
                          "yMin": -1.2,
                          "yMax": 1.2
                        },
                        "model": "pow(abs(x), p) * sin(1 / (abs(x) + 0.001))"
                      },
                      "reflections": [
                        {
                          "id": "no-squeeze",
                          "trigger": "state.currentValue < 0.3",
                          "text": "Không có thừa số kẹp — dao động mãnh liệt gần x = 0. Giới hạn không tồn tại."
                        },
                        {
                          "id": "squeeze",
                          "trigger": "state.currentValue > 0.8 && state.currentValue < 1.3",
                          "text": "Thừa số |x|^p kẹp biên độ. Dao động bị thu nhỏ → giới hạn = 0."
                        },
                        {
                          "id": "strong-squeeze",
                          "trigger": "state.currentValue > 1.8",
                          "text": "x² kẹp mạnh — dao động bị nghiền nát về 0. Định lý Kẹp đảm bảo lim = 0."
                        }
                      ],
                      "prompt": "Tăng lũy thừa kẹp. Khi nào dao động bị triệt tiêu gần x = 0?"
                    }
                  }
                }
              ]
            },
            {
              "order_index": 1,
              "blocks": [
                {
                  "id": "text-dinh-ly",
                  "type": "text",
                  "content": {
                    "heading": "Định lý Kẹp (Squeeze Theorem)",
                    "paragraphs": [
                      "Nếu $g(x) \\leq f(x) \\leq h(x)$ gần $a$ và $\\lim_{x \\to a} g(x) = \\lim_{x \\to a} h(x) = L$, thì $\\lim_{x \\to a} f(x) = L$."
                    ]
                  }
                },
                {
                  "id": "math-kep",
                  "type": "math",
                  "content": {
                    "latex": "g(x) \\leq f(x) \\leq h(x) \\text{ và } \\lim g = \\lim h = L \\Rightarrow \\lim f = L"
                  }
                }
              ]
            },
            {
              "order_index": 2,
              "blocks": [
                {
                  "id": "text-ap-dung",
                  "type": "text",
                  "content": {
                    "heading": "Áp dụng: $x^2 \\sin(1/x)$",
                    "paragraphs": [
                      "$-1 \\leq \\sin(1/x) \\leq 1$ nên $-x^2 \\leq x^2 \\sin(1/x) \\leq x^2$. Vì $\\lim_{x \\to 0}(-x^2) = \\lim_{x \\to 0}(x^2) = 0$, Định lý Kẹp cho $\\lim_{x \\to 0} x^2 \\sin(1/x) = 0$."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 3,
              "blocks": [
                {
                  "id": "quiz-l7-1",
                  "type": "quiz",
                  "content": {
                    "question": "Khi tăng lũy thừa kẹp, đường cong dao động gần $x = 0$:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Thoát ra ngoài biên"
                      },
                      {
                        "value": "b",
                        "label": "Bị ép phẳng về 0 — dao động bị triệt tiêu"
                      },
                      {
                        "value": "c",
                        "label": "Phát tán"
                      },
                      {
                        "value": "d",
                        "label": "Ngừng dao động"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Thừa số $|x|^p$ → 0 khi $x \\to 0$, kẹp biên độ dao động về 0."
                  }
                }
              ]
            },
            {
              "order_index": 4,
              "blocks": [
                {
                  "id": "quiz-l7-2",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to 0} x^2 = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "1"
                      },
                      {
                        "value": "b",
                        "label": "0"
                      },
                      {
                        "value": "c",
                        "label": "$\\infty$"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$x^2 \\to 0$ khi $x \\to 0$."
                  }
                }
              ]
            },
            {
              "order_index": 5,
              "blocks": [
                {
                  "id": "quiz-l7-3",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to 0}(-x^2) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "1"
                      },
                      {
                        "value": "b",
                        "label": "0"
                      },
                      {
                        "value": "c",
                        "label": "$-1$"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$-x^2 \\to 0$ khi $x \\to 0$. Cả hai biên cùng → 0."
                  }
                }
              ]
            },
            {
              "order_index": 6,
              "blocks": [
                {
                  "id": "quiz-l7-4",
                  "type": "quiz",
                  "content": {
                    "question": "Cả hai biên có cùng giới hạn (0). Định lý Kẹp đảm bảo:",
                    "options": [
                      {
                        "value": "a",
                        "label": "$f$ dao động mãi"
                      },
                      {
                        "value": "b",
                        "label": "$\\lim f = 0$"
                      },
                      {
                        "value": "c",
                        "label": "$f(0) = 0$"
                      },
                      {
                        "value": "d",
                        "label": "$f$ không có giới hạn"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Kẹp giữa hai hàm cùng → 0 nên $f$ cũng → 0."
                  }
                }
              ]
            },
            {
              "order_index": 7,
              "blocks": [
                {
                  "id": "quiz-l7-5",
                  "type": "quiz",
                  "content": {
                    "question": "$-x^4 \\leq f(x) \\leq x^4$ gần $x = 0$. $\\lim_{x \\to 0} f(x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0"
                      },
                      {
                        "value": "b",
                        "label": "1"
                      },
                      {
                        "value": "c",
                        "label": "Không tồn tại"
                      },
                      {
                        "value": "d",
                        "label": "$\\pm 1$"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Cả hai biên → 0. Định lý Kẹp → $\\lim f = 0$."
                  }
                }
              ]
            },
            {
              "order_index": 8,
              "blocks": [
                {
                  "id": "quiz-l7-6",
                  "type": "quiz",
                  "content": {
                    "question": "Tại sao $\\sin(1/x)$ không có giới hạn (Bài 3) nhưng $x^2 \\sin(1/x)$ có?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Hàm hoàn toàn khác"
                      },
                      {
                        "value": "b",
                        "label": "Thừa số $x^2$ thu nhỏ biên độ dao động về 0 khi $x \\to 0$"
                      },
                      {
                        "value": "c",
                        "label": "$\\sin(1/x)$ giờ hội tụ"
                      },
                      {
                        "value": "d",
                        "label": "Miền xác định đã thay đổi"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$|\\sin| \\leq 1$ nhưng $x^2 \\to 0$ — biên độ bị thu nhỏ không thể cưỡng."
                  }
                }
              ]
            },
            {
              "order_index": 9,
              "blocks": [
                {
                  "id": "quiz-l7-7",
                  "type": "quiz",
                  "content": {
                    "question": "Định lý Kẹp yêu cầu:",
                    "options": [
                      {
                        "value": "a",
                        "label": "$f = g = h$"
                      },
                      {
                        "value": "b",
                        "label": "$g \\leq f \\leq h$ gần $a$ và $\\lim g = \\lim h$"
                      },
                      {
                        "value": "c",
                        "label": "Ba hàm liên tục"
                      },
                      {
                        "value": "d",
                        "label": "$a = 0$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Cần bất đẳng thức kẹp VÀ hai biên cùng giới hạn."
                  }
                }
              ]
            },
            {
              "order_index": 10,
              "blocks": [
                {
                  "id": "quiz-l7-8",
                  "type": "quiz",
                  "content": {
                    "question": "Nhiệt phòng nằm giữa nhiệt lò sưởi (→21°C) và nhiệt ngoài trời (→21°C). Giới hạn nhiệt phòng?",
                    "options": [
                      {
                        "value": "a",
                        "label": "21°C"
                      },
                      {
                        "value": "b",
                        "label": "0°C"
                      },
                      {
                        "value": "c",
                        "label": "Không xác định"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Kẹp giữa hai đại lượng cùng → 21°C. Định lý Kẹp → nhiệt phòng → 21°C."
                  }
                }
              ]
            },
            {
              "order_index": 11,
              "blocks": [
                {
                  "id": "quiz-l7-9",
                  "type": "quiz",
                  "content": {
                    "question": "$2x + 1 \\leq f(x) \\leq x^2 + 2x + 1$ gần $x = 0$. $\\lim_{x \\to 0} f(x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0"
                      },
                      {
                        "value": "b",
                        "label": "1"
                      },
                      {
                        "value": "c",
                        "label": "2"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Biên dưới: $2(0)+1 = 1$. Biên trên: $0 + 0 + 1 = 1$. Cùng → 1. Lim $f$ = 1."
                  }
                }
              ]
            }
          ]
        },
        {
          "id": "dinh-nghia-epsilon-delta",
          "title": "Định Nghĩa ε–δ",
          "description": "ε–δ không tính giới hạn — nó chứng nhận giới hạn: với mọi dung sai đầu ra, tồn tại dung sai đầu vào tương ứng.",
          "xp_reward": 20,
          "order_index": 3,
          "slides": [
            {
              "order_index": 0,
              "blocks": [
                {
                  "id": "ia-epsilon-delta",
                  "type": "interaction",
                  "content": {
                    "interactionType": "B",
                    "lesson": {
                      "interactionType": "B",
                      "meta": {
                        "parameterLabel": "Bán kính δ"
                      },
                      "parameter": {
                        "min": 0.01,
                        "max": 2,
                        "initial": 1.5
                      },
                      "system": {
                        "resolution": 200,
                        "view": {
                          "xMin": -1,
                          "xMax": 3,
                          "yMin": 0,
                          "yMax": 7
                        },
                        "model": "(abs(x - 1) < p) ? (2 * x + 1) : 3"
                      },
                      "reflections": [
                        {
                          "id": "wide",
                          "trigger": "state.currentValue > 1.2",
                          "text": "Vùng δ rộng — f(x) dao động nhiều quanh L = 3. Dung sai ε lớn."
                        },
                        {
                          "id": "medium",
                          "trigger": "state.currentValue > 0.3 && state.currentValue < 0.8",
                          "text": "Vùng δ thu hẹp — f(x) gần L = 3 hơn. |f(x) - 3| < ε với ε nhỏ hơn."
                        },
                        {
                          "id": "tight",
                          "trigger": "state.currentValue < 0.15",
                          "text": "δ rất nhỏ → |f(x) - 3| rất nhỏ. Với MỌI ε > 0, tồn tại δ. Giới hạn được chứng nhận!"
                        }
                      ],
                      "prompt": "Thu nhỏ δ. Vùng đường cong hiện ra có gần L = 3 hơn không?"
                    }
                  }
                }
              ]
            },
            {
              "order_index": 1,
              "blocks": [
                {
                  "id": "text-dinh-nghia",
                  "type": "text",
                  "content": {
                    "heading": "Định nghĩa chính thức",
                    "paragraphs": [
                      "$\\lim_{x \\to a} f(x) = L$ nghĩa là: với mọi $\\varepsilon > 0$, tồn tại $\\delta > 0$ sao cho $0 < |x - a| < \\delta \\Rightarrow |f(x) - L| < \\varepsilon$.",
                      "Đây không phải phương pháp tính. Đây là <b>chứng nhận</b> rằng $L$ thực sự là giới hạn."
                    ]
                  }
                },
                {
                  "id": "math-ed",
                  "type": "math",
                  "content": {
                    "latex": "\\forall \\varepsilon > 0,\\ \\exists \\delta > 0:\\ 0 < |x - a| < \\delta \\Rightarrow |f(x) - L| < \\varepsilon"
                  }
                }
              ]
            },
            {
              "order_index": 2,
              "blocks": [
                {
                  "id": "text-doc-dinh-nghia",
                  "type": "text",
                  "content": {
                    "heading": "Đọc định nghĩa",
                    "paragraphs": [
                      "\"Với mọi ε\" = dù dung sai đầu ra nghiêm ngặt đến đâu. \"Tồn tại δ\" = luôn tìm được dung sai đầu vào phù hợp. Điều kiện $0 < |x - a|$ loại trừ chính $x = a$ — giới hạn không quan tâm tại điểm."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 3,
              "blocks": [
                {
                  "id": "quiz-l10-1",
                  "type": "quiz",
                  "content": {
                    "question": "Khi thu nhỏ δ, δ phù hợp có luôn tồn tại không?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Không — dưới $\\varepsilon = 0.1$ thì thất bại"
                      },
                      {
                        "value": "b",
                        "label": "Có — $\\delta = \\varepsilon/2$ luôn hoạt động"
                      },
                      {
                        "value": "c",
                        "label": "Chỉ với ε nguyên"
                      },
                      {
                        "value": "d",
                        "label": "δ cố định tại 1"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Với $f(x) = 2x+1$: $|f(x) - 3| = 2|x-1|$. Chọn $\\delta = \\varepsilon/2$ luôn đủ."
                  }
                }
              ]
            },
            {
              "order_index": 4,
              "blocks": [
                {
                  "id": "quiz-l10-2",
                  "type": "quiz",
                  "content": {
                    "question": "Trong ε–δ, ai chọn ε?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Hàm số"
                      },
                      {
                        "value": "b",
                        "label": "Đối thủ / thử thách — ε được cho trước"
                      },
                      {
                        "value": "c",
                        "label": "Nhà toán học chọn cả hai"
                      },
                      {
                        "value": "d",
                        "label": "ε luôn = 0.01"
                      }
                    ],
                    "correct": "b",
                    "explanation": "ε là thử thách: 'Tôi muốn $f(x)$ nằm trong ε quanh $L$.' Ta phải đáp lại bằng δ."
                  }
                }
              ]
            },
            {
              "order_index": 5,
              "blocks": [
                {
                  "id": "quiz-l10-3",
                  "type": "quiz",
                  "content": {
                    "question": "Ai đáp lại bằng δ?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Đối thủ"
                      },
                      {
                        "value": "b",
                        "label": "Chứng minh — δ là phản hồi cho thấy giới hạn đúng"
                      },
                      {
                        "value": "c",
                        "label": "δ ngẫu nhiên"
                      },
                      {
                        "value": "d",
                        "label": "δ = ε luôn"
                      }
                    ],
                    "correct": "b",
                    "explanation": "δ là phản hồi: 'Nếu $x$ nằm trong δ quanh $a$, thì $f(x)$ nằm trong ε quanh $L$.'"
                  }
                }
              ]
            },
            {
              "order_index": 6,
              "blocks": [
                {
                  "id": "quiz-l10-4",
                  "type": "quiz",
                  "content": {
                    "question": "$f(x) = 2x+1$, $a = 1$, $L = 3$. Nếu $\\varepsilon = 0.1$, tìm $\\delta$:",
                    "options": [
                      {
                        "value": "a",
                        "label": "$\\delta = 0.1$"
                      },
                      {
                        "value": "b",
                        "label": "$\\delta = 0.05$"
                      },
                      {
                        "value": "c",
                        "label": "$\\delta = 0.2$"
                      },
                      {
                        "value": "d",
                        "label": "$\\delta = 1$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$|2x+1-3| = 2|x-1| < 0.1 \\Rightarrow |x-1| < 0.05$."
                  }
                }
              ]
            },
            {
              "order_index": 7,
              "blocks": [
                {
                  "id": "quiz-l10-5",
                  "type": "quiz",
                  "content": {
                    "question": "Cùng hàm. $\\varepsilon = 0.5 \\Rightarrow \\delta = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0.5"
                      },
                      {
                        "value": "b",
                        "label": "1"
                      },
                      {
                        "value": "c",
                        "label": "0.25"
                      },
                      {
                        "value": "d",
                        "label": "0.1"
                      }
                    ],
                    "correct": "c",
                    "explanation": "$2|x-1| < 0.5 \\Rightarrow |x-1| < 0.25$."
                  }
                }
              ]
            },
            {
              "order_index": 8,
              "blocks": [
                {
                  "id": "quiz-l10-6",
                  "type": "quiz",
                  "content": {
                    "question": "Điều kiện $0 < |x - a|$ (không chỉ $|x-a| < \\delta$) có mặt vì:",
                    "options": [
                      {
                        "value": "a",
                        "label": "$x = a$ sẽ khiến $\\delta = 0$"
                      },
                      {
                        "value": "b",
                        "label": "Giới hạn loại trừ $x = a$ — chỉ xét lân cận"
                      },
                      {
                        "value": "c",
                        "label": "Chia cho 0"
                      },
                      {
                        "value": "d",
                        "label": "$x = a$ nằm ngoài miền"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Giới hạn xét hành vi gần $a$, không phải tại $a$. Bỏ $x = a$ ra khỏi xem xét."
                  }
                }
              ]
            },
            {
              "order_index": 9,
              "blocks": [
                {
                  "id": "quiz-l10-7",
                  "type": "quiz",
                  "content": {
                    "question": "Nếu không tìm được $\\delta$ cho một $\\varepsilon > 0$ nào đó:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Giới hạn bằng giá trị khác"
                      },
                      {
                        "value": "b",
                        "label": "Giới hạn không bằng $L$ — chứng nhận ε–δ thất bại"
                      },
                      {
                        "value": "c",
                        "label": "ε quá nhỏ"
                      },
                      {
                        "value": "d",
                        "label": "Cần hàm tốt hơn"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Chỉ CẦN MỘT ε thất bại để phủ nhận. ε–δ yêu cầu MỌI ε."
                  }
                }
              ]
            },
            {
              "order_index": 10,
              "blocks": [
                {
                  "id": "quiz-l10-8",
                  "type": "quiz",
                  "content": {
                    "question": "$f(x) = 3x$, $a = 2$, $L = 6$, $\\varepsilon = 0.3$. $\\delta = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0.3"
                      },
                      {
                        "value": "b",
                        "label": "0.1"
                      },
                      {
                        "value": "c",
                        "label": "0.9"
                      },
                      {
                        "value": "d",
                        "label": "0.01"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$|3x - 6| = 3|x-2| < 0.3 \\Rightarrow |x-2| < 0.1$."
                  }
                }
              ]
            },
            {
              "order_index": 11,
              "blocks": [
                {
                  "id": "quiz-l10-9",
                  "type": "quiz",
                  "content": {
                    "question": "Thợ máy cần bu-lông sai số $\\varepsilon = 0.01$ mm. ε–δ nói:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Không thể"
                      },
                      {
                        "value": "b",
                        "label": "Nếu máy đủ chính xác (δ nhỏ), dung sai ε luôn đạt được"
                      },
                      {
                        "value": "c",
                        "label": "Bu-lông lớn dễ hơn"
                      },
                      {
                        "value": "d",
                        "label": "Chỉ máy hoàn hảo"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Điều chỉnh đầu vào (δ) đủ nhỏ → đầu ra nằm trong dung sai (ε). Chính xác như ε–δ."
                  }
                }
              ]
            }
          ]
        },
        {
          "id": "gioi-han-tai-vo-cuc",
          "title": "Giới Hạn Tại Vô Cực",
          "description": "Hàm có thể ổn định ngay cả khi đầu vào tăng không giới hạn — tiệm cận ngang.",
          "xp_reward": 15,
          "order_index": 2,
          "slides": [
            {
              "order_index": 0,
              "blocks": [
                {
                  "id": "ia-vo-cuc",
                  "type": "interaction",
                  "content": {
                    "interactionType": "B",
                    "lesson": {
                      "interactionType": "B",
                      "meta": {
                        "parameterLabel": "Tỉ lệ phóng"
                      },
                      "parameter": {
                        "min": 1,
                        "max": 100,
                        "initial": 1
                      },
                      "system": {
                        "resolution": 300,
                        "view": {
                          "xMin": -0.5,
                          "xMax": 10,
                          "yMin": -0.5,
                          "yMax": 4
                        },
                        "model": "(2 * p * x + 1) / (p * x + 3)"
                      },
                      "reflections": [
                        {
                          "id": "changing",
                          "trigger": "state.currentValue < 5",
                          "text": "Hàm vẫn đang thay đổi — chưa ổn định."
                        },
                        {
                          "id": "flattening",
                          "trigger": "state.currentValue > 15 && state.currentValue < 50",
                          "text": "Đồ thị đang phẳng dần → tiến về y = 2. Tiệm cận ngang xuất hiện."
                        },
                        {
                          "id": "flat",
                          "trigger": "state.currentValue > 70",
                          "text": "Gần như phẳng tại y = 2. Dù tử và mẫu đều → ∞, tỉ lệ → 2/1 = 2."
                        }
                      ],
                      "prompt": "Phóng to trục x. Hàm (2x+1)/(x+3) tiến về giá trị nào?"
                    }
                  }
                }
              ]
            },
            {
              "order_index": 1,
              "blocks": [
                {
                  "id": "text-vo-cuc",
                  "type": "text",
                  "content": {
                    "heading": "Giới hạn tại vô cực",
                    "paragraphs": [
                      "$\\lim_{x \\to \\infty} f(x) = L$ nghĩa là: khi $x$ tăng không giới hạn, $f(x)$ ổn định gần $L$. Ta gọi $y = L$ là <b>tiệm cận ngang</b>."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 2,
              "blocks": [
                {
                  "id": "text-so-hang-chu-dao",
                  "type": "text",
                  "content": {
                    "heading": "Phân tích số hạng chủ đạo",
                    "paragraphs": [
                      "Với $\\frac{2x+1}{x+3}$: chia tử và mẫu cho $x$ → $\\frac{2 + 1/x}{1 + 3/x}$. Khi $x \\to \\infty$: $1/x \\to 0$, $3/x \\to 0$, nên tỉ lệ → $2/1 = 2$."
                    ]
                  }
                },
                {
                  "id": "math-vo-cuc",
                  "type": "math",
                  "content": {
                    "latex": "\\lim_{x \\to \\infty} \\frac{2x + 1}{x + 3} = \\frac{2}{1} = 2"
                  }
                }
              ]
            },
            {
              "order_index": 3,
              "blocks": [
                {
                  "id": "quiz-l9-1",
                  "type": "quiz",
                  "content": {
                    "question": "Khi phóng to, $f(x)$ tiến về giá trị nào?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0"
                      },
                      {
                        "value": "b",
                        "label": "1"
                      },
                      {
                        "value": "c",
                        "label": "2"
                      },
                      {
                        "value": "d",
                        "label": "$\\infty$"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Đồ thị phẳng dần tại $y = 2$."
                  }
                }
              ]
            },
            {
              "order_index": 4,
              "blocks": [
                {
                  "id": "quiz-l9-2",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to \\infty} 1/x = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "1"
                      },
                      {
                        "value": "b",
                        "label": "0"
                      },
                      {
                        "value": "c",
                        "label": "$\\infty$"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$1/x$ giảm dần về 0 khi $x$ tăng."
                  }
                }
              ]
            },
            {
              "order_index": 5,
              "blocks": [
                {
                  "id": "quiz-l9-3",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to \\infty} \\frac{3x^2 + 1}{x^2 - 2} = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "1"
                      },
                      {
                        "value": "b",
                        "label": "3"
                      },
                      {
                        "value": "c",
                        "label": "$-1$"
                      },
                      {
                        "value": "d",
                        "label": "0"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Cùng bậc 2. Tỉ lệ hệ số chủ đạo: $3/1 = 3$."
                  }
                }
              ]
            },
            {
              "order_index": 6,
              "blocks": [
                {
                  "id": "quiz-l9-4",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to \\infty} \\frac{x + 1}{x^2 + 1} = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "1"
                      },
                      {
                        "value": "b",
                        "label": "$\\infty$"
                      },
                      {
                        "value": "c",
                        "label": "0"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Bậc tử (1) < bậc mẫu (2) → tỉ lệ → 0."
                  }
                }
              ]
            },
            {
              "order_index": 7,
              "blocks": [
                {
                  "id": "quiz-l9-5",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to \\infty} \\frac{x^2 + 3}{2x + 1} = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0"
                      },
                      {
                        "value": "b",
                        "label": "$1/2$"
                      },
                      {
                        "value": "c",
                        "label": "$\\infty$ (tử tăng nhanh hơn)"
                      },
                      {
                        "value": "d",
                        "label": "3"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Bậc tử (2) > bậc mẫu (1) → tử thắng → $\\infty$."
                  }
                }
              ]
            },
            {
              "order_index": 8,
              "blocks": [
                {
                  "id": "quiz-l9-6",
                  "type": "quiz",
                  "content": {
                    "question": "Khi bậc tử = bậc mẫu, giới hạn tại $\\infty$ là:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Luôn 1"
                      },
                      {
                        "value": "b",
                        "label": "Tỉ lệ hệ số chủ đạo"
                      },
                      {
                        "value": "c",
                        "label": "0"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Chia cho $x^n$ → còn lại tỉ lệ hệ số bậc cao nhất."
                  }
                }
              ]
            },
            {
              "order_index": 9,
              "blocks": [
                {
                  "id": "quiz-l9-7",
                  "type": "quiz",
                  "content": {
                    "question": "Tiệm cận ngang $y = L$ nghĩa là:",
                    "options": [
                      {
                        "value": "a",
                        "label": "$f$ không bao giờ đạt $L$"
                      },
                      {
                        "value": "b",
                        "label": "$f(x) \\to L$ khi $x \\to \\infty$ hoặc $x \\to -\\infty$"
                      },
                      {
                        "value": "c",
                        "label": "$f(L) = 0$"
                      },
                      {
                        "value": "d",
                        "label": "Đồ thị nằm ngang khắp nơi"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Tiệm cận ngang = hành vi dài hạn, không phải tính chất cục bộ."
                  }
                }
              ]
            },
            {
              "order_index": 10,
              "blocks": [
                {
                  "id": "quiz-l9-8",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to -\\infty} \\frac{2x + 1}{x + 3} = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "$-2$"
                      },
                      {
                        "value": "b",
                        "label": "2"
                      },
                      {
                        "value": "c",
                        "label": "0"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Chia cho $x$: $(2 + 1/x)/(1 + 3/x) \\to 2/1 = 2$. Giống $+\\infty$."
                  }
                }
              ]
            },
            {
              "order_index": 11,
              "blocks": [
                {
                  "id": "quiz-l9-9",
                  "type": "quiz",
                  "content": {
                    "question": "Chi phí trung bình mỗi đơn vị = $(1000 + 2x)/x$. Khi $x \\to \\infty$, chi phí → ?",
                    "options": [
                      {
                        "value": "a",
                        "label": "$1000"
                      },
                      {
                        "value": "b",
                        "label": "$2"
                      },
                      {
                        "value": "c",
                        "label": "$0"
                      },
                      {
                        "value": "d",
                        "label": "$\\infty$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$(1000 + 2x)/x = 1000/x + 2 \\to 0 + 2 = 2$."
                  }
                }
              ]
            }
          ]
        },
        {
          "id": "tinh-lien-tuc",
          "title": "Tính Liên Tục",
          "description": "Liên tục = giới hạn và giá trị hàm đồng ý — không lỗ, không nhảy, không bất ngờ.",
          "xp_reward": 15,
          "order_index": 1,
          "slides": [
            {
              "order_index": 0,
              "blocks": [
                {
                  "id": "ia-lien-tuc",
                  "type": "interaction",
                  "content": {
                    "interactionType": "B",
                    "lesson": {
                      "interactionType": "B",
                      "meta": {
                        "parameterLabel": "Giá trị f(2)"
                      },
                      "parameter": {
                        "min": 0,
                        "max": 8,
                        "initial": 6
                      },
                      "system": {
                        "resolution": 200,
                        "view": {
                          "xMin": -0.5,
                          "xMax": 4.5,
                          "yMin": -1,
                          "yMax": 18
                        },
                        "model": "(abs(x - 2) < 0.12) ? p : (x * x)"
                      },
                      "reflections": [
                        {
                          "id": "continuous",
                          "trigger": "state.currentValue > 3.8 && state.currentValue < 4.2",
                          "text": "f(2) = 4 = lim f(x). Điểm nằm trên đường cong → hàm liên tục tại x = 2!"
                        },
                        {
                          "id": "discontinuous",
                          "trigger": "state.currentValue > 5.5",
                          "text": "f(2) ≠ lim f(x) = 4. Điểm rời khỏi đường cong → bất liên tục tháo được."
                        },
                        {
                          "id": "low",
                          "trigger": "state.currentValue < 2",
                          "text": "f(2) quá thấp so với đường cong. Giới hạn vẫn là 4 — chỉ f(2) thay đổi."
                        }
                      ],
                      "prompt": "Kéo f(2) lên xuống. Khi nào hàm trở nên liên tục tại x = 2?"
                    }
                  }
                }
              ]
            },
            {
              "order_index": 1,
              "blocks": [
                {
                  "id": "text-ba-dieu-kien",
                  "type": "text",
                  "content": {
                    "heading": "Ba điều kiện liên tục",
                    "paragraphs": [
                      "$f$ liên tục tại $x = a$ khi và chỉ khi: (1) $f(a)$ xác định, (2) $\\lim_{x \\to a} f(x)$ tồn tại, (3) $\\lim_{x \\to a} f(x) = f(a)$. Bỏ bất kỳ điều kiện nào → mất liên tục."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 2,
              "blocks": [
                {
                  "id": "text-loai-bat-lien-tuc",
                  "type": "text",
                  "content": {
                    "heading": "Các loại bất liên tục",
                    "paragraphs": [
                      "<b>Tháo được</b>: giới hạn tồn tại nhưng $f(a)$ sai hoặc thiếu — sửa bằng cách đặt $f(a) = L$. <b>Nhảy</b>: giới hạn một phía bất đồng — không sửa được. <b>Vô cực</b>: $f(x) \\to \\pm\\infty$ — không sửa được."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 3,
              "blocks": [
                {
                  "id": "quiz-l8-1",
                  "type": "quiz",
                  "content": {
                    "question": "Tại vị trí nào của f(2), hàm trở nên liên tục tại $x = 2$?",
                    "options": [
                      {
                        "value": "a",
                        "label": "$y = 0$"
                      },
                      {
                        "value": "b",
                        "label": "$y = 2$"
                      },
                      {
                        "value": "c",
                        "label": "$y = 4$ (trên đường cong)"
                      },
                      {
                        "value": "d",
                        "label": "$y = 6$"
                      }
                    ],
                    "correct": "c",
                    "explanation": "$\\lim_{x \\to 2} x^2 = 4$. Khi $f(2) = 4$, điều kiện (3) thỏa mãn."
                  }
                }
              ]
            },
            {
              "order_index": 4,
              "blocks": [
                {
                  "id": "quiz-l8-2",
                  "type": "quiz",
                  "content": {
                    "question": "Khi $f(2)$ rời khỏi đường cong, điều kiện nào bị vi phạm?",
                    "options": [
                      {
                        "value": "a",
                        "label": "$f(2)$ không xác định"
                      },
                      {
                        "value": "b",
                        "label": "$\\lim_{x \\to 2} f(x)$ không tồn tại"
                      },
                      {
                        "value": "c",
                        "label": "$\\lim_{x \\to 2} f(x) = f(2)$ — chúng bất đồng"
                      },
                      {
                        "value": "d",
                        "label": "Cả ba"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Giới hạn vẫn = 4, $f(2)$ vẫn xác định — nhưng chúng không bằng nhau."
                  }
                }
              ]
            },
            {
              "order_index": 5,
              "blocks": [
                {
                  "id": "quiz-l8-3",
                  "type": "quiz",
                  "content": {
                    "question": "$f(x) = x^3$ liên tục tại $x = 1$?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Không — lập phương có góc"
                      },
                      {
                        "value": "b",
                        "label": "Có — $f(1) = 1$ và $\\lim_{x \\to 1} x^3 = 1$"
                      },
                      {
                        "value": "c",
                        "label": "Chỉ từ bên trái"
                      },
                      {
                        "value": "d",
                        "label": "Không xác định"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Thế trực tiếp: $1^3 = 1 = \\lim$. Ba điều kiện đều thỏa mãn."
                  }
                }
              ]
            },
            {
              "order_index": 6,
              "blocks": [
                {
                  "id": "quiz-l8-4",
                  "type": "quiz",
                  "content": {
                    "question": "$f(x) = (x^2-1)/(x-1)$. $f$ liên tục tại $x = 1$?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Có"
                      },
                      {
                        "value": "b",
                        "label": "Không — $f(1)$ không xác định (điều kiện 1)"
                      },
                      {
                        "value": "c",
                        "label": "Không — giới hạn không tồn tại"
                      },
                      {
                        "value": "d",
                        "label": "Tùy miền xác định"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$f(1) = 0/0$ → không xác định. Điều kiện (1) thất bại."
                  }
                }
              ]
            },
            {
              "order_index": 7,
              "blocks": [
                {
                  "id": "quiz-l8-5",
                  "type": "quiz",
                  "content": {
                    "question": "Định nghĩa $g(x) = (x^2-1)/(x-1)$ khi $x \\neq 1$ và $g(1) = 2$. $g$ liên tục tại 1?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Không — $g(1)$ nên bằng 0"
                      },
                      {
                        "value": "b",
                        "label": "Có — $g(1) = 2$ và $\\lim_{x \\to 1} g(x) = 2$"
                      },
                      {
                        "value": "c",
                        "label": "Không — hàm ban đầu không xác định"
                      },
                      {
                        "value": "d",
                        "label": "Chỉ từ bên phải"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$\\lim = 2 = g(1)$. Cả ba điều kiện thỏa → liên tục."
                  }
                }
              ]
            },
            {
              "order_index": 8,
              "blocks": [
                {
                  "id": "quiz-l8-6",
                  "type": "quiz",
                  "content": {
                    "question": "Bất liên tục tháo được có thể 'sửa' vì:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Giới hạn tồn tại — chỉ cần đặt $f(a) = L$"
                      },
                      {
                        "value": "b",
                        "label": "Giới hạn không bao giờ tồn tại"
                      },
                      {
                        "value": "c",
                        "label": "Kéo dãn đồ thị"
                      },
                      {
                        "value": "d",
                        "label": "Chỉ đa thức có bất liên tục tháo được"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Giới hạn đã tồn tại. Đặt $f(a) = \\lim$ → liên tục."
                  }
                }
              ]
            },
            {
              "order_index": 9,
              "blocks": [
                {
                  "id": "quiz-l8-7",
                  "type": "quiz",
                  "content": {
                    "question": "Bất liên tục nhảy có thể sửa bằng cách đặt lại $f(a)$?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Có — chọn giới hạn trái"
                      },
                      {
                        "value": "b",
                        "label": "Có — chọn trung bình"
                      },
                      {
                        "value": "c",
                        "label": "Không — giới hạn một phía bất đồng, không có giá trị nào khiến $\\lim = f(a)$ từ cả hai phía"
                      },
                      {
                        "value": "d",
                        "label": "Chỉ với hàm từng khúc"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Nhảy = hai phía bất đồng. Không thể chọn một giá trị thỏa cả hai."
                  }
                }
              ]
            },
            {
              "order_index": 10,
              "blocks": [
                {
                  "id": "quiz-l8-8",
                  "type": "quiz",
                  "content": {
                    "question": "Nhiệt kế chính xác trừ 12:00 đọc 0°C (thực = 22°C). Hàm nhiệt liên tục tại 12:00?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Có — nhiệt luôn liên tục"
                      },
                      {
                        "value": "b",
                        "label": "Không — giá trị đọc (0°C) ≠ giới hạn (22°C)"
                      },
                      {
                        "value": "c",
                        "label": "Chỉ nếu bỏ qua lỗi"
                      },
                      {
                        "value": "d",
                        "label": "Không xác định"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Giá trị tại điểm (0°C) ≠ giới hạn (22°C). Điều kiện (3) thất bại."
                  }
                }
              ]
            },
            {
              "order_index": 11,
              "blocks": [
                {
                  "id": "quiz-l8-9",
                  "type": "quiz",
                  "content": {
                    "question": "Mọi đa thức liên tục khắp nơi vì:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Không có phân số"
                      },
                      {
                        "value": "b",
                        "label": "Thế trực tiếp luôn hoạt động: $\\lim_{x \\to a} p(x) = p(a)$"
                      },
                      {
                        "value": "c",
                        "label": "Đồ thị trơn"
                      },
                      {
                        "value": "d",
                        "label": "Chỉ một mảnh"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Đa thức → thế trực tiếp luôn cho $\\lim = f(a)$. Ba điều kiện tự động thỏa."
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "gioi-han-va-dai-so",
      "title": "Giới hạn và đại số",
      "description": "Đọc giới hạn trên đồ thị, đơn giản hóa đại số, và các quy tắc giới hạn",
      "order_index": 1,
      "steps": [
        {
          "id": "cac-quy-tac-gioi-han",
          "title": "Các Quy Tắc Giới Hạn",
          "description": "Giới hạn của tổng = tổng các giới hạn — phép tính và giới hạn giao hoán.",
          "xp_reward": 15,
          "order_index": 2,
          "slides": [
            {
              "order_index": 0,
              "blocks": [
                {
                  "id": "ia-quy-tac",
                  "type": "interaction",
                  "content": {
                    "interactionType": "B",
                    "lesson": {
                      "interactionType": "B",
                      "meta": {
                        "parameterLabel": "Hệ số g(x)"
                      },
                      "parameter": {
                        "min": -2,
                        "max": 3,
                        "initial": 1
                      },
                      "system": {
                        "resolution": 200,
                        "view": {
                          "xMin": -2,
                          "xMax": 4,
                          "yMin": -6,
                          "yMax": 12
                        },
                        "model": "(x + 1) + p * x"
                      },
                      "reflections": [
                        {
                          "id": "sum-law",
                          "trigger": "state.currentValue > 0.8 && state.currentValue < 1.2",
                          "text": "lim f = 3, lim g = 2. lim(f+g) = 5 = 3 + 2. Quy tắc tổng hoạt động!"
                        },
                        {
                          "id": "negative",
                          "trigger": "state.currentValue < -1",
                          "text": "p âm → g(x) dốc xuống. Nhưng lim(f+g) vẫn = lim f + lim g."
                        },
                        {
                          "id": "large",
                          "trigger": "state.currentValue > 2.5",
                          "text": "p lớn → g(x) dốc lên mạnh. lim(f+g) = 3 + 2p — luôn đúng quy tắc."
                        }
                      ],
                      "prompt": "Thay đổi hệ số p. Kiểm tra: lim(f+g) có luôn bằng lim f + lim g?"
                    }
                  }
                }
              ]
            },
            {
              "order_index": 1,
              "blocks": [
                {
                  "id": "text-tong-tich",
                  "type": "text",
                  "content": {
                    "heading": "Quy tắc tổng và tích",
                    "paragraphs": [
                      "Nếu $\\lim_{x \\to a} f(x) = L$ và $\\lim_{x \\to a} g(x) = M$ thì: $\\lim[f+g] = L + M$, $\\lim[f \\cdot g] = L \\cdot M$, $\\lim[c \\cdot f] = c \\cdot L$."
                    ]
                  }
                },
                {
                  "id": "math-tong",
                  "type": "math",
                  "content": {
                    "latex": "\\lim_{x \\to a}[f(x) + g(x)] = \\lim_{x \\to a} f(x) + \\lim_{x \\to a} g(x)"
                  }
                }
              ]
            },
            {
              "order_index": 2,
              "blocks": [
                {
                  "id": "text-thuong",
                  "type": "text",
                  "content": {
                    "heading": "Quy tắc thương và điều kiện",
                    "paragraphs": [
                      "$\\lim[f/g] = L/M$ khi $M \\neq 0$. Khi $M = 0$, quy tắc thương thất bại — đây chính là tình huống $0/0$ từ Bài 5 cần xử lý riêng."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 3,
              "blocks": [
                {
                  "id": "quiz-l6-1",
                  "type": "quiz",
                  "content": {
                    "question": "Với $p = 1$: $\\lim_{x \\to 2} g(x) = 2$, $\\lim_{x \\to 2} f(x) = 3$. $\\lim_{x \\to 2}[f+g] = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "3"
                      },
                      {
                        "value": "b",
                        "label": "5"
                      },
                      {
                        "value": "c",
                        "label": "4"
                      },
                      {
                        "value": "d",
                        "label": "6"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Quy tắc tổng: $3 + 2 = 5$."
                  }
                }
              ]
            },
            {
              "order_index": 4,
              "blocks": [
                {
                  "id": "quiz-l6-2",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to 1}(x^2 + 3x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "3"
                      },
                      {
                        "value": "b",
                        "label": "4"
                      },
                      {
                        "value": "c",
                        "label": "1"
                      },
                      {
                        "value": "d",
                        "label": "0"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$\\lim x^2 + \\lim 3x = 1 + 3 = 4$."
                  }
                }
              ]
            },
            {
              "order_index": 5,
              "blocks": [
                {
                  "id": "quiz-l6-3",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to 3}[(x+1)(x-2)] = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "4"
                      },
                      {
                        "value": "b",
                        "label": "3"
                      },
                      {
                        "value": "c",
                        "label": "12"
                      },
                      {
                        "value": "d",
                        "label": "1"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Quy tắc tích: $\\lim(x+1) \\cdot \\lim(x-2) = 4 \\cdot 1 = 4$."
                  }
                }
              ]
            },
            {
              "order_index": 6,
              "blocks": [
                {
                  "id": "quiz-l6-4",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to 4} \\frac{2x+1}{x-1} = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "3"
                      },
                      {
                        "value": "b",
                        "label": "9"
                      },
                      {
                        "value": "c",
                        "label": "1"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Quy tắc thương: $\\frac{9}{3} = 3$. Mẫu $\\neq 0$ nên hợp lệ."
                  }
                }
              ]
            },
            {
              "order_index": 7,
              "blocks": [
                {
                  "id": "quiz-l6-5",
                  "type": "quiz",
                  "content": {
                    "question": "Quy tắc nào thất bại khi giới hạn mẫu bằng 0?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Tổng"
                      },
                      {
                        "value": "b",
                        "label": "Tích"
                      },
                      {
                        "value": "c",
                        "label": "Thương"
                      },
                      {
                        "value": "d",
                        "label": "Hằng số nhân"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Quy tắc thương yêu cầu $M \\neq 0$. Khi $M = 0$ → dạng bất định."
                  }
                }
              ]
            },
            {
              "order_index": 8,
              "blocks": [
                {
                  "id": "quiz-l6-6",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to 2}[5 \\cdot f(x)]$ với $\\lim f = 3$:",
                    "options": [
                      {
                        "value": "a",
                        "label": "8"
                      },
                      {
                        "value": "b",
                        "label": "15"
                      },
                      {
                        "value": "c",
                        "label": "5"
                      },
                      {
                        "value": "d",
                        "label": "3"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Quy tắc hằng số nhân: $5 \\cdot 3 = 15$."
                  }
                }
              ]
            },
            {
              "order_index": 9,
              "blocks": [
                {
                  "id": "quiz-l6-7",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to 0} \\frac{x^2 + x}{x}$. Có thể dùng quy tắc thương trực tiếp?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Có — áp dụng quy tắc thương"
                      },
                      {
                        "value": "b",
                        "label": "Không — giới hạn mẫu = 0, phải rút gọn trước"
                      },
                      {
                        "value": "c",
                        "label": "Giới hạn không tồn tại"
                      },
                      {
                        "value": "d",
                        "label": "Bằng $0/0$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$\\lim x = 0$ → mẫu = 0. Phải rút gọn: $\\frac{x(x+1)}{x} = x + 1 \\to 1$."
                  }
                }
              ]
            },
            {
              "order_index": 10,
              "blocks": [
                {
                  "id": "quiz-l6-8",
                  "type": "quiz",
                  "content": {
                    "question": "Chi phí = vật liệu + nhân công. $\\lim$ vật liệu = $50, $\\lim$ nhân công = $30. $\\lim$ chi phí = ?",
                    "options": [
                      {
                        "value": "a",
                        "label": "$80"
                      },
                      {
                        "value": "b",
                        "label": "$50"
                      },
                      {
                        "value": "c",
                        "label": "$30"
                      },
                      {
                        "value": "d",
                        "label": "Không xác định"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Quy tắc tổng: $50 + 30 = 80$."
                  }
                }
              ]
            },
            {
              "order_index": 11,
              "blocks": [
                {
                  "id": "quiz-l6-9",
                  "type": "quiz",
                  "content": {
                    "question": "Các quy tắc giới hạn hoạt động vì:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Mọi hàm đều là đa thức"
                      },
                      {
                        "value": "b",
                        "label": "Phép tính số học bảo toàn hội tụ khi các giới hạn riêng tồn tại"
                      },
                      {
                        "value": "c",
                        "label": "Giới hạn luôn tồn tại"
                      },
                      {
                        "value": "d",
                        "label": "$f$ và $g$ phải bằng nhau"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Khi mỗi giới hạn tồn tại, phép cộng/nhân/chia bảo toàn sự hội tụ."
                  }
                }
              ]
            }
          ]
        },
        {
          "id": "don-gian-hoa-dai-so",
          "title": "Đơn Giản Hóa Đại Số",
          "description": "Dạng 0/0 không phải câu trả lời — đó là tín hiệu để phân tích và rút gọn.",
          "xp_reward": 15,
          "order_index": 1,
          "slides": [
            {
              "order_index": 0,
              "blocks": [
                {
                  "id": "ia-rut-gon",
                  "type": "interaction",
                  "content": {
                    "interactionType": "A",
                    "lesson": {
                      "interactionType": "A",
                      "parameterSpec": {
                        "resolutionLevels": [
                          1,
                          2,
                          4,
                          8,
                          16,
                          32,
                          64,
                          100
                        ]
                      },
                      "systemSpec": {
                        "function": "x * x",
                        "derivative": "2 * x",
                        "domain": [
                          -2,
                          5
                        ],
                        "range": [
                          -0.5,
                          26
                        ],
                        "anchor": 2
                      },
                      "reflectionSpec": {
                        "triggers": [
                          {
                            "condition": "state.resolution >= 50",
                            "message": "Δf/Δx → 4 — rút gọn (x²−4)/(x−2) = x+2 cũng cho 4 tại x=2. Đại số xác nhận giới hạn."
                          }
                        ]
                      },
                      "prompt": "Tăng số điểm lấy mẫu. Δf/Δx tiến về giá trị nào khi khoảng thu nhỏ quanh x = 2?",
                      "sliderLabel": "Độ chính xác"
                    }
                  }
                }
              ]
            },
            {
              "order_index": 1,
              "blocks": [
                {
                  "id": "text-tin-hieu",
                  "type": "text",
                  "content": {
                    "heading": "Dạng 0/0 — tín hiệu, không phải câu trả lời",
                    "paragraphs": [
                      "Khi thế trực tiếp cho $0/0$, giới hạn là <b>bất định</b> — có thể là bất kỳ giá trị nào. Đây không phải câu trả lời mà là tín hiệu cần xử lý đại số."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 2,
              "blocks": [
                {
                  "id": "text-phan-tich",
                  "type": "text",
                  "content": {
                    "heading": "Phân tích, rút gọn, thế",
                    "paragraphs": [
                      "$\\frac{x^2 - 4}{x - 2} = \\frac{(x-2)(x+2)}{x-2} = x + 2$ với $x \\neq 2$. Giờ $\\lim_{x \\to 2}(x+2) = 4$.",
                      "Phép rút gọn loại bỏ nghiệm chung. Hợp lệ vì giới hạn xét lân cận $x = 2$, không phải tại $x = 2$."
                    ]
                  }
                },
                {
                  "id": "math-rut-gon",
                  "type": "math",
                  "content": {
                    "latex": "\\lim_{x \\to 2} \\frac{x^2 - 4}{x - 2} = \\lim_{x \\to 2}(x + 2) = 4"
                  }
                }
              ]
            },
            {
              "order_index": 3,
              "blocks": [
                {
                  "id": "quiz-l5-1",
                  "type": "quiz",
                  "content": {
                    "question": "Thế $x = 2$ vào $(x^2 - 4)/(x - 2)$ cho:",
                    "options": [
                      {
                        "value": "a",
                        "label": "4"
                      },
                      {
                        "value": "b",
                        "label": "0"
                      },
                      {
                        "value": "c",
                        "label": "$0/0$"
                      },
                      {
                        "value": "d",
                        "label": "2"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Tử = $4 - 4 = 0$, mẫu = $2 - 2 = 0$. Dạng bất định $0/0$."
                  }
                }
              ]
            },
            {
              "order_index": 4,
              "blocks": [
                {
                  "id": "quiz-l5-2",
                  "type": "quiz",
                  "content": {
                    "question": "Phân tích $x^2 - 4$:",
                    "options": [
                      {
                        "value": "a",
                        "label": "$(x-4)(x+1)$"
                      },
                      {
                        "value": "b",
                        "label": "$(x-2)(x+2)$"
                      },
                      {
                        "value": "c",
                        "label": "$x(x-4)$"
                      },
                      {
                        "value": "d",
                        "label": "$(x-2)^2$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Hiệu hai bình phương: $x^2 - 4 = (x-2)(x+2)$."
                  }
                }
              ]
            },
            {
              "order_index": 5,
              "blocks": [
                {
                  "id": "quiz-l5-3",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to 2} \\frac{x^2 - 4}{x - 2} = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0"
                      },
                      {
                        "value": "b",
                        "label": "2"
                      },
                      {
                        "value": "c",
                        "label": "4"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Rút gọn: $(x+2)$. Tại $x \\to 2$: $2 + 2 = 4$."
                  }
                }
              ]
            },
            {
              "order_index": 6,
              "blocks": [
                {
                  "id": "quiz-l5-4",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to 3} \\frac{x^2 - 9}{x - 3} = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0"
                      },
                      {
                        "value": "b",
                        "label": "3"
                      },
                      {
                        "value": "c",
                        "label": "6"
                      },
                      {
                        "value": "d",
                        "label": "9"
                      }
                    ],
                    "correct": "c",
                    "explanation": "$x^2 - 9 = (x-3)(x+3)$. Rút gọn: $x+3$. Tại $x = 3$: $3 + 3 = 6$."
                  }
                }
              ]
            },
            {
              "order_index": 7,
              "blocks": [
                {
                  "id": "quiz-l5-5",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to -1} \\frac{x^2 - 1}{x + 1} = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0"
                      },
                      {
                        "value": "b",
                        "label": "$-2$"
                      },
                      {
                        "value": "c",
                        "label": "2"
                      },
                      {
                        "value": "d",
                        "label": "$-1$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$x^2 - 1 = (x-1)(x+1)$. Rút gọn: $x - 1$. Tại $x = -1$: $-1 - 1 = -2$."
                  }
                }
              ]
            },
            {
              "order_index": 8,
              "blocks": [
                {
                  "id": "quiz-l5-6",
                  "type": "quiz",
                  "content": {
                    "question": "Sau khi rút gọn $(x-2)$, ta được $x+2$. Tại sao $\\lim_{x \\to 2}(x+2)$ hợp lệ dù $f(2)$ ban đầu không xác định?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Vì ta đã đổi hàm"
                      },
                      {
                        "value": "b",
                        "label": "Vì giới hạn chỉ xét lân cận $x = 2$ — hai hàm đồng nhất trừ tại $x = 2$"
                      },
                      {
                        "value": "c",
                        "label": "Vì $x + 2$ luôn xác định"
                      },
                      {
                        "value": "d",
                        "label": "Không hợp lệ"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Giới hạn không xét tại $a$, chỉ gần $a$. Hai hàm bằng nhau gần $a$ → giới hạn giống nhau."
                  }
                }
              ]
            },
            {
              "order_index": 9,
              "blocks": [
                {
                  "id": "quiz-l5-7",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to 0} \\frac{x^3 - x}{x} = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0"
                      },
                      {
                        "value": "b",
                        "label": "$-1$"
                      },
                      {
                        "value": "c",
                        "label": "1"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$\\frac{x(x^2 - 1)}{x} = x^2 - 1$. Tại $x = 0$: $0 - 1 = -1$."
                  }
                }
              ]
            },
            {
              "order_index": 10,
              "blocks": [
                {
                  "id": "quiz-l5-8",
                  "type": "quiz",
                  "content": {
                    "question": "Khi thế trực tiếp cho $0/0$, bước tiếp theo là:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Kết luận giới hạn bằng 0"
                      },
                      {
                        "value": "b",
                        "label": "Kết luận giới hạn không tồn tại"
                      },
                      {
                        "value": "c",
                        "label": "Phân tích và rút gọn thừa số chung"
                      },
                      {
                        "value": "d",
                        "label": "Dùng máy tính"
                      }
                    ],
                    "correct": "c",
                    "explanation": "$0/0$ = bất định. Phải phân tích thừa số và rút gọn trước khi thế lại."
                  }
                }
              ]
            },
            {
              "order_index": 11,
              "blocks": [
                {
                  "id": "quiz-l5-9",
                  "type": "quiz",
                  "content": {
                    "question": "$0/0$ có phải là một số không?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Có, bằng 0"
                      },
                      {
                        "value": "b",
                        "label": "Có, bằng 1"
                      },
                      {
                        "value": "c",
                        "label": "Không — đó là dạng bất định, tín hiệu cần xử lý thêm"
                      },
                      {
                        "value": "d",
                        "label": "Không — nó nghĩa là giới hạn không tồn tại"
                      }
                    ],
                    "correct": "c",
                    "explanation": "$0/0$ không có giá trị xác định. Nó chỉ ra rằng phải dùng công cụ đại số."
                  }
                }
              ]
            }
          ]
        },
        {
          "id": "gioi-han-tren-do-thi",
          "title": "Giới Hạn Trên Đồ Thị",
          "description": "Đọc giới hạn từ đồ thị — giới hạn là nơi đường cong tiến đến, không phải nơi điểm nằm.",
          "xp_reward": 10,
          "order_index": 0,
          "slides": [
            {
              "order_index": 0,
              "blocks": [
                {
                  "id": "ia-do-thi",
                  "type": "interaction",
                  "content": {
                    "interactionType": "B",
                    "lesson": {
                      "interactionType": "B",
                      "meta": {
                        "parameterLabel": "Giá trị f(2)"
                      },
                      "parameter": {
                        "min": 0,
                        "max": 7,
                        "initial": 5
                      },
                      "system": {
                        "resolution": 200,
                        "view": {
                          "xMin": -0.5,
                          "xMax": 5,
                          "yMin": -0.5,
                          "yMax": 8
                        },
                        "model": "(abs(x - 2) < 0.15) ? p : (x + 1)"
                      },
                      "reflections": [
                        {
                          "id": "mismatch",
                          "trigger": "state.currentValue > 4 && state.currentValue < 6",
                          "text": "f(2) = 5 nhưng đường cong tiến về 3. Giới hạn ≠ giá trị hàm — giới hạn đọc từ đường cong."
                        },
                        {
                          "id": "match",
                          "trigger": "state.currentValue > 2.8 && state.currentValue < 3.2",
                          "text": "f(2) = 3 = giới hạn. Khi điểm nằm trên đường cong, hàm liên tục tại x = 2."
                        },
                        {
                          "id": "far",
                          "trigger": "state.currentValue > 6",
                          "text": "Điểm rất xa đường cong, nhưng giới hạn vẫn là 3. Giới hạn phụ thuộc đường cong, không phải điểm."
                        }
                      ],
                      "prompt": "Kéo f(2) lên xuống. Giới hạn có thay đổi theo không?"
                    }
                  }
                }
              ]
            },
            {
              "order_index": 1,
              "blocks": [
                {
                  "id": "text-doc-gioi-han",
                  "type": "text",
                  "content": {
                    "heading": "Đọc giới hạn từ đồ thị",
                    "paragraphs": [
                      "Để tìm $\\lim_{x \\to a} f(x)$ từ đồ thị: đi theo đường cong từ cả hai phía về $x = a$. Giá trị $y$ mà đường cong tiến đến chính là giới hạn.",
                      "Bỏ qua mọi điểm cô lập tại $x = a$ — điểm đó biểu diễn $f(a)$, có thể khác giới hạn."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 2,
              "blocks": [
                {
                  "id": "text-vong-tron",
                  "type": "text",
                  "content": {
                    "heading": "Vòng tròn rỗng và đặc",
                    "paragraphs": [
                      "○ tại $(a, L)$: đường cong tiến về $L$ nhưng $f(a) \\neq L$. ● tại $(a, M)$: $f(a) = M$. Giới hạn phụ thuộc vào đường cong, không phải điểm."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 3,
              "blocks": [
                {
                  "id": "quiz-l4-1",
                  "type": "quiz",
                  "content": {
                    "question": "Trong tương tác, $\\lim_{x \\to 2} f(x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "5"
                      },
                      {
                        "value": "b",
                        "label": "3"
                      },
                      {
                        "value": "c",
                        "label": "2"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Đường cong $y = x + 1$ tiến về $2 + 1 = 3$ tại $x = 2$."
                  }
                }
              ]
            },
            {
              "order_index": 4,
              "blocks": [
                {
                  "id": "quiz-l4-2",
                  "type": "quiz",
                  "content": {
                    "question": "Với thanh trượt ở vị trí mặc định, $f(2) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "5"
                      },
                      {
                        "value": "b",
                        "label": "3"
                      },
                      {
                        "value": "c",
                        "label": "Không xác định"
                      },
                      {
                        "value": "d",
                        "label": "0"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Giá trị mặc định của thanh trượt là 5, nên $f(2) = 5$."
                  }
                }
              ]
            },
            {
              "order_index": 5,
              "blocks": [
                {
                  "id": "quiz-l4-3",
                  "type": "quiz",
                  "content": {
                    "question": "Giới hạn ≠ $f(2)$. Điều này nghĩa là:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Đồ thị sai"
                      },
                      {
                        "value": "b",
                        "label": "Hàm có bất liên tục tháo được tại $x = 2$"
                      },
                      {
                        "value": "c",
                        "label": "Giới hạn không tồn tại"
                      },
                      {
                        "value": "d",
                        "label": "$f$ không phải hàm hợp lệ"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Giới hạn tồn tại (= 3) nhưng $f(2) \\neq 3$ → bất liên tục tháo được."
                  }
                }
              ]
            },
            {
              "order_index": 6,
              "blocks": [
                {
                  "id": "quiz-l4-4",
                  "type": "quiz",
                  "content": {
                    "question": "Đồ thị: đường cong tiến về $y = 7$ từ hai phía tại $x = 4$ và $f(4) = 7$. $\\lim_{x \\to 4} f(x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "7"
                      },
                      {
                        "value": "b",
                        "label": "4"
                      },
                      {
                        "value": "c",
                        "label": "Không tồn tại"
                      },
                      {
                        "value": "d",
                        "label": "0"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Đường cong tiến về 7 và $f(4) = 7$ → giới hạn = 7."
                  }
                }
              ]
            },
            {
              "order_index": 7,
              "blocks": [
                {
                  "id": "quiz-l4-5",
                  "type": "quiz",
                  "content": {
                    "question": "Đường cong tiến về $y = 1$ từ trái, $y = 3$ từ phải tại $x = 5$. $\\lim_{x \\to 5} f(x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "1"
                      },
                      {
                        "value": "b",
                        "label": "3"
                      },
                      {
                        "value": "c",
                        "label": "2"
                      },
                      {
                        "value": "d",
                        "label": "Không tồn tại"
                      }
                    ],
                    "correct": "d",
                    "explanation": "Giới hạn một phía: trái = 1 ≠ 3 = phải → giới hạn không tồn tại."
                  }
                }
              ]
            },
            {
              "order_index": 8,
              "blocks": [
                {
                  "id": "quiz-l4-6",
                  "type": "quiz",
                  "content": {
                    "question": "Vòng tròn rỗng ○ tại $(a, L)$ trên đồ thị nghĩa là:",
                    "options": [
                      {
                        "value": "a",
                        "label": "$f(a) = L$"
                      },
                      {
                        "value": "b",
                        "label": "Đường cong tiến về $L$ nhưng $f(a) \\neq L$ hoặc không xác định"
                      },
                      {
                        "value": "c",
                        "label": "Giới hạn không tồn tại"
                      },
                      {
                        "value": "d",
                        "label": "$f$ âm tại $a$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "○ = lỗ trên đường cong. Đường cong tiến đến đó nhưng hàm không nhận giá trị đó."
                  }
                }
              ]
            },
            {
              "order_index": 9,
              "blocks": [
                {
                  "id": "quiz-l4-7",
                  "type": "quiz",
                  "content": {
                    "question": "Đường cong trơn đi qua $(3, 6)$ không gián đoạn. $\\lim_{x \\to 3} f(x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "6"
                      },
                      {
                        "value": "b",
                        "label": "3"
                      },
                      {
                        "value": "c",
                        "label": "Không tồn tại"
                      },
                      {
                        "value": "d",
                        "label": "Không đọc được"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Đường cong trơn → giới hạn = giá trị hàm = 6."
                  }
                }
              ]
            },
            {
              "order_index": 10,
              "blocks": [
                {
                  "id": "quiz-l4-8",
                  "type": "quiz",
                  "content": {
                    "question": "Kim đồng hồ tốc độ tiến về 60 km/h nhưng màn hình lỗi hiện 45. 'Giới hạn' tốc độ là:",
                    "options": [
                      {
                        "value": "a",
                        "label": "45"
                      },
                      {
                        "value": "b",
                        "label": "60"
                      },
                      {
                        "value": "c",
                        "label": "Trung bình"
                      },
                      {
                        "value": "d",
                        "label": "Không xác định"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Giới hạn = nơi đại lượng tiến đến (60), không phải số đọc lỗi (45)."
                  }
                }
              ]
            },
            {
              "order_index": 11,
              "blocks": [
                {
                  "id": "quiz-l4-9",
                  "type": "quiz",
                  "content": {
                    "question": "Để tìm $\\lim_{x \\to a} f(x)$ từ đồ thị:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Đọc $f(a)$ từ điểm"
                      },
                      {
                        "value": "b",
                        "label": "Đi theo đường cong từ hai phía và đọc nơi nó hội tụ"
                      },
                      {
                        "value": "c",
                        "label": "Tính trung bình $f(a-1)$ và $f(a+1)$"
                      },
                      {
                        "value": "d",
                        "label": "Tìm giao điểm với trục hoành"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Giới hạn = nơi đường cong tiến đến, đọc bằng cách theo dõi từ hai phía."
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "kham-pha-gioi-han",
      "title": "Khám phá giới hạn",
      "description": "Giới hạn bằng số, giới hạn một phía, và khi giới hạn không tồn tại",
      "order_index": 0,
      "steps": [
        {
          "id": "gioi-han-mot-phia",
          "title": "Giới Hạn Một Phía",
          "description": "Giới hạn trái và phải có thể khác nhau — giới hạn hai phía tồn tại khi chúng bằng nhau.",
          "xp_reward": 10,
          "order_index": 1,
          "slides": [
            {
              "order_index": 0,
              "blocks": [
                {
                  "id": "ia-mot-phia",
                  "type": "interaction",
                  "content": {
                    "interactionType": "B",
                    "lesson": {
                      "interactionType": "B",
                      "meta": {
                        "parameterLabel": "Độ lệch bên phải"
                      },
                      "parameter": {
                        "min": -2,
                        "max": 3,
                        "initial": 0
                      },
                      "system": {
                        "resolution": 200,
                        "view": {
                          "xMin": 0,
                          "xMax": 4,
                          "yMin": 0,
                          "yMax": 8
                        },
                        "model": "(x < 2) ? (2 * x + 1) : (x * x + p)"
                      },
                      "reflections": [
                        {
                          "id": "jump",
                          "trigger": "state.currentValue > -0.5 && state.currentValue < 0.5",
                          "text": "Bên trái → 5, bên phải → 4. Hai giới hạn một phía khác nhau → giới hạn hai phía không tồn tại."
                        },
                        {
                          "id": "match",
                          "trigger": "state.currentValue > 0.8 && state.currentValue < 1.2",
                          "text": "Bên trái → 5, bên phải → 5. Hai phía đồng ý → giới hạn hai phía tồn tại và bằng 5."
                        },
                        {
                          "id": "big-gap",
                          "trigger": "state.currentValue < -1",
                          "text": "Khoảng nhảy lớn — hai phía hoàn toàn bất đồng."
                        }
                      ],
                      "prompt": "Kéo thanh trượt để thay đổi độ lệch nhánh phải. Khi nào hai nhánh 'gặp nhau' tại x = 2?"
                    }
                  }
                }
              ]
            },
            {
              "order_index": 1,
              "blocks": [
                {
                  "id": "text-ky-hieu-mot-phia",
                  "type": "text",
                  "content": {
                    "heading": "Ký hiệu giới hạn một phía",
                    "paragraphs": [
                      "Khi hai hướng tiếp cận cho giá trị khác nhau, ta dùng: $\\lim_{x \\to a^-} f(x)$ (giới hạn trái) và $\\lim_{x \\to a^+} f(x)$ (giới hạn phải). Dấu $-$ hoặc $+$ chỉ hướng tiếp cận.",
                      "Ví dụ: $\\lim_{x \\to 2^-} f(x) = 5$ (từ bên trái) và $\\lim_{x \\to 2^+} f(x) = 4$ (từ bên phải) khi $p = 0$."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 2,
              "blocks": [
                {
                  "id": "text-dieu-kien-ton-tai",
                  "type": "text",
                  "content": {
                    "heading": "Điều kiện tồn tại",
                    "paragraphs": [
                      "$\\lim_{x \\to a} f(x)$ tồn tại khi và chỉ khi $\\lim_{x \\to a^-} f(x) = \\lim_{x \\to a^+} f(x)$. Khi hai phía bất đồng, giới hạn hai phía <b>không tồn tại</b>."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 3,
              "blocks": [
                {
                  "id": "quiz-l2-1",
                  "type": "quiz",
                  "content": {
                    "question": "Với $p = 0$, $f(x)$ tiến về giá trị nào khi $x \\to 2$ từ bên trái?",
                    "options": [
                      {
                        "value": "a",
                        "label": "4"
                      },
                      {
                        "value": "b",
                        "label": "5"
                      },
                      {
                        "value": "c",
                        "label": "2"
                      },
                      {
                        "value": "d",
                        "label": "3"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Nhánh trái: $2x + 1$. Tại $x \\to 2^-$: $2(2) + 1 = 5$."
                  }
                }
              ]
            },
            {
              "order_index": 4,
              "blocks": [
                {
                  "id": "quiz-l2-2",
                  "type": "quiz",
                  "content": {
                    "question": "Với $p = 0$, $f(x)$ tiến về giá trị nào khi $x \\to 2$ từ bên phải?",
                    "options": [
                      {
                        "value": "a",
                        "label": "4"
                      },
                      {
                        "value": "b",
                        "label": "5"
                      },
                      {
                        "value": "c",
                        "label": "2"
                      },
                      {
                        "value": "d",
                        "label": "3"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Nhánh phải: $x^2 + p = x^2$. Tại $x \\to 2^+$: $4 + 0 = 4$."
                  }
                }
              ]
            },
            {
              "order_index": 5,
              "blocks": [
                {
                  "id": "quiz-l2-3",
                  "type": "quiz",
                  "content": {
                    "question": "Với $p = 0$, $\\lim_{x \\to 2} f(x)$ có tồn tại không?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Có, bằng 5"
                      },
                      {
                        "value": "b",
                        "label": "Có, bằng 4"
                      },
                      {
                        "value": "c",
                        "label": "Có, bằng 4.5"
                      },
                      {
                        "value": "d",
                        "label": "Không — giới hạn một phía khác nhau"
                      }
                    ],
                    "correct": "d",
                    "explanation": "$\\lim_{x \\to 2^-} = 5 \\neq 4 = \\lim_{x \\to 2^+}$. Bất đồng → giới hạn không tồn tại."
                  }
                }
              ]
            },
            {
              "order_index": 6,
              "blocks": [
                {
                  "id": "quiz-l2-4",
                  "type": "quiz",
                  "content": {
                    "question": "$g(x) = |x|/x$. $\\lim_{x \\to 0^-} g(x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "1"
                      },
                      {
                        "value": "b",
                        "label": "$-1$"
                      },
                      {
                        "value": "c",
                        "label": "0"
                      },
                      {
                        "value": "d",
                        "label": "Không xác định"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Với $x < 0$: $|x|/x = -x/x = -1$."
                  }
                }
              ]
            },
            {
              "order_index": 7,
              "blocks": [
                {
                  "id": "quiz-l2-5",
                  "type": "quiz",
                  "content": {
                    "question": "Cùng $g(x) = |x|/x$. $\\lim_{x \\to 0^+} g(x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "1"
                      },
                      {
                        "value": "b",
                        "label": "$-1$"
                      },
                      {
                        "value": "c",
                        "label": "0"
                      },
                      {
                        "value": "d",
                        "label": "Không xác định"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Với $x > 0$: $|x|/x = x/x = 1$."
                  }
                }
              ]
            },
            {
              "order_index": 8,
              "blocks": [
                {
                  "id": "quiz-l2-6",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to a} f(x) = L$ đòi hỏi:",
                    "options": [
                      {
                        "value": "a",
                        "label": "$f(a) = L$"
                      },
                      {
                        "value": "b",
                        "label": "$\\lim_{x \\to a^-} f(x) = L$ và $\\lim_{x \\to a^+} f(x) = L$"
                      },
                      {
                        "value": "c",
                        "label": "$f$ xác định tại $a$"
                      },
                      {
                        "value": "d",
                        "label": "$f$ dương gần $a$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Giới hạn hai phía tồn tại ⟺ cả hai giới hạn một phía tồn tại và bằng nhau."
                  }
                }
              ]
            },
            {
              "order_index": 9,
              "blocks": [
                {
                  "id": "quiz-l2-7",
                  "type": "quiz",
                  "content": {
                    "question": "$h(x) = x + 3$ cho mọi $x$ (kể cả $x = 1$). Giới hạn một phía tại $x = 1$ có đồng ý không?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Không — hàm từng khúc luôn bất đồng"
                      },
                      {
                        "value": "b",
                        "label": "Có — cả hai phía tiến về 4"
                      },
                      {
                        "value": "c",
                        "label": "Trái = 3, Phải = 4"
                      },
                      {
                        "value": "d",
                        "label": "Không xác định được"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Hàm liên tục $h(x) = x+3$ cho giới hạn trái = phải = $1 + 3 = 4$."
                  }
                }
              ]
            },
            {
              "order_index": 10,
              "blocks": [
                {
                  "id": "quiz-l2-8",
                  "type": "quiz",
                  "content": {
                    "question": "Nhiệt độ cửa: 18°C phía trong, 5°C phía ngoài. $\\lim_{x \\to \\text{cửa}} T(x)$ tồn tại?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Có, bằng 18"
                      },
                      {
                        "value": "b",
                        "label": "Có, bằng 5"
                      },
                      {
                        "value": "c",
                        "label": "Có, bằng 11.5"
                      },
                      {
                        "value": "d",
                        "label": "Không — giới hạn một phía khác nhau"
                      }
                    ],
                    "correct": "d",
                    "explanation": "Giới hạn trái (trong) = 18°C ≠ 5°C = giới hạn phải (ngoài). Bất đồng."
                  }
                }
              ]
            },
            {
              "order_index": 11,
              "blocks": [
                {
                  "id": "quiz-l2-9",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to a^-} f(x) = \\lim_{x \\to a^+} f(x) = 7$ nhưng $f(a) = 3$. $\\lim_{x \\to a} f(x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "3"
                      },
                      {
                        "value": "b",
                        "label": "7"
                      },
                      {
                        "value": "c",
                        "label": "Không tồn tại"
                      },
                      {
                        "value": "d",
                        "label": "$(7+3)/2 = 5$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Hai phía đồng ý ở 7 → giới hạn = 7. Giá trị $f(a) = 3$ không liên quan đến giới hạn."
                  }
                }
              ]
            }
          ]
        },
        {
          "id": "kham-pha-gioi-han-bang-so",
          "title": "Khám Phá Giới Hạn Bằng Số",
          "description": "Giới hạn là giá trị mà f(x) ổn định về — bất kể f(a) có tồn tại hay không.",
          "xp_reward": 10,
          "order_index": 0,
          "slides": [
            {
              "order_index": 0,
              "blocks": [
                {
                  "id": "ia-gioi-han-so",
                  "type": "interaction",
                  "content": {
                    "interactionType": "A",
                    "lesson": {
                      "interactionType": "A",
                      "parameterSpec": {
                        "resolutionLevels": [
                          1,
                          2,
                          4,
                          8,
                          16,
                          32,
                          64,
                          100
                        ]
                      },
                      "systemSpec": {
                        "function": "x * x",
                        "derivative": "2 * x",
                        "domain": [
                          -3,
                          3
                        ],
                        "range": [
                          -0.5,
                          10
                        ],
                        "anchor": 1
                      },
                      "reflectionSpec": {
                        "triggers": [
                          {
                            "condition": "state.resolution >= 50",
                            "message": "Δf/Δx ≈ 2.00 — đường cát tuyến (xanh) gần trùng tiếp tuyến (đỏ). Giá trị ổn định = giới hạn."
                          }
                        ]
                      },
                      "prompt": "Kéo thanh trượt để tăng số điểm lấy mẫu. Quan sát đường cát tuyến (xanh) tiến gần đường tiếp tuyến (đỏ). Sai số có giảm về 0?",
                      "sliderLabel": "Độ chính xác"
                    }
                  }
                }
              ]
            },
            {
              "order_index": 1,
              "blocks": [
                {
                  "id": "text-dinh-nghia-gioi-han",
                  "type": "text",
                  "content": {
                    "heading": "Giới hạn — định nghĩa bằng số",
                    "paragraphs": [
                      "Bạn vừa quan sát $\\Delta f / \\Delta x$ hội tụ về 2 khi khoảng thu nhỏ. Hiện tượng giá trị ổn định khi đầu vào tiến về một điểm gọi là <b>giới hạn</b>.",
                      "Ta viết $\\lim_{x \\to a} f(x) = L$ nghĩa là: khi $x$ tiến đến $a$, $f(x)$ tiến đến $L$. Giới hạn mô tả hành vi <b>gần</b> điểm — không phải tại điểm."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 2,
              "blocks": [
                {
                  "id": "text-gioi-han-khac-gia-tri",
                  "type": "text",
                  "content": {
                    "heading": "Giới hạn ≠ giá trị hàm",
                    "paragraphs": [
                      "$\\lim_{x \\to a} f(x)$ có thể tồn tại ngay cả khi $f(a)$ không xác định. Ví dụ: $f(x) = (x^2 - 1)/(x-1)$ không xác định tại $x = 1$, nhưng $\\lim_{x \\to 1} f(x) = 2$ vì các giá trị gần 1 đều tiến về 2.",
                      "Giới hạn là về <b>sự tiệm cận</b>, không phải phép thế."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 3,
              "blocks": [
                {
                  "id": "quiz-l1-1",
                  "type": "quiz",
                  "content": {
                    "question": "Trong tương tác, $f(x)$ tiến về giá trị nào khi $x \\to 1$? $f(1)$ có xác định không?",
                    "options": [
                      {
                        "value": "a",
                        "label": "$f(x) \\to 1$, $f(1) = 1$"
                      },
                      {
                        "value": "b",
                        "label": "$\\Delta f/\\Delta x \\to 2$ khi khoảng thu nhỏ — giới hạn tồn tại"
                      },
                      {
                        "value": "c",
                        "label": "$f(x) \\to 0$"
                      },
                      {
                        "value": "d",
                        "label": "$f(x) \\to \\infty$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Khi tăng resolution, $\\Delta f / \\Delta x$ ổn định tại 2 — đó là giới hạn."
                  }
                }
              ]
            },
            {
              "order_index": 4,
              "blocks": [
                {
                  "id": "quiz-l1-2",
                  "type": "quiz",
                  "content": {
                    "question": "Rút gọn $(x^2 - 1)/(x - 1)$ với $x \\neq 1$:",
                    "options": [
                      {
                        "value": "a",
                        "label": "$x - 1$"
                      },
                      {
                        "value": "b",
                        "label": "$x$"
                      },
                      {
                        "value": "c",
                        "label": "$x + 1$"
                      },
                      {
                        "value": "d",
                        "label": "$x^2 + 1$"
                      }
                    ],
                    "correct": "c",
                    "explanation": "$x^2 - 1 = (x-1)(x+1)$, chia cho $(x-1)$ còn $x + 1$."
                  }
                }
              ]
            },
            {
              "order_index": 5,
              "blocks": [
                {
                  "id": "quiz-l1-3",
                  "type": "quiz",
                  "content": {
                    "question": "Tại sao không thể thế $x = 1$ vào $(x^2 - 1)/(x - 1)$?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Hàm số âm tại đó"
                      },
                      {
                        "value": "b",
                        "label": "Chia cho 0 — biểu thức là $0/0$"
                      },
                      {
                        "value": "c",
                        "label": "$x = 1$ nằm ngoài miền xác định"
                      },
                      {
                        "value": "d",
                        "label": "Kết quả quá lớn"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Tử và mẫu đều bằng 0 tại $x = 1$, cho dạng $0/0$ — không xác định."
                  }
                }
              ]
            },
            {
              "order_index": 6,
              "blocks": [
                {
                  "id": "quiz-l1-4",
                  "type": "quiz",
                  "content": {
                    "question": "Nếu $g(x) = (x^2 - 4)/(x - 2)$, thì $\\lim_{x \\to 2} g(x) = $?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0"
                      },
                      {
                        "value": "b",
                        "label": "2"
                      },
                      {
                        "value": "c",
                        "label": "4"
                      },
                      {
                        "value": "d",
                        "label": "Không xác định"
                      }
                    ],
                    "correct": "c",
                    "explanation": "$(x^2-4)/(x-2) = x+2$. Tại $x \\to 2$: $2 + 2 = 4$."
                  }
                }
              ]
            },
            {
              "order_index": 7,
              "blocks": [
                {
                  "id": "quiz-l1-5",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to a} f(x) = L$ nghĩa là:",
                    "options": [
                      {
                        "value": "a",
                        "label": "$f(a) = L$"
                      },
                      {
                        "value": "b",
                        "label": "$f(x) = L$ cho mọi $x$ gần $a$"
                      },
                      {
                        "value": "c",
                        "label": "$f(x)$ có thể làm gần $L$ tùy ý bằng cách cho $x$ đủ gần $a$"
                      },
                      {
                        "value": "d",
                        "label": "$f$ liên tục tại $a$"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Giới hạn = $f(x)$ tiến tùy ý gần $L$ khi $x$ tiến đến $a$. Không yêu cầu $f(a) = L$."
                  }
                }
              ]
            },
            {
              "order_index": 8,
              "blocks": [
                {
                  "id": "quiz-l1-6",
                  "type": "quiz",
                  "content": {
                    "question": "Bảng cho $f(2.9) = 5.8$, $f(2.99) = 5.98$, $f(2.999) = 5.998$. Giới hạn khi $x \\to 3$?",
                    "options": [
                      {
                        "value": "a",
                        "label": "3"
                      },
                      {
                        "value": "b",
                        "label": "5"
                      },
                      {
                        "value": "c",
                        "label": "6"
                      },
                      {
                        "value": "d",
                        "label": "5.9"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Các giá trị 5.8, 5.98, 5.998 đang tiến về 6."
                  }
                }
              ]
            },
            {
              "order_index": 9,
              "blocks": [
                {
                  "id": "quiz-l1-7",
                  "type": "quiz",
                  "content": {
                    "question": "$h(x) = x^2$: $\\lim_{x \\to 3} h(x) = 9$ và $h(3) = 9$. Điều này cho biết gì?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Giới hạn luôn bằng giá trị hàm"
                      },
                      {
                        "value": "b",
                        "label": "Ở đây chúng trùng nhau, nhưng đây không phải quy tắc tổng quát"
                      },
                      {
                        "value": "c",
                        "label": "$h(3)$ không xác định"
                      },
                      {
                        "value": "d",
                        "label": "Không xác định được"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Trùng nhau ở đây vì $x^2$ là đa thức liên tục. Với hàm khác, giới hạn có thể khác $f(a)$."
                  }
                }
              ]
            },
            {
              "order_index": 10,
              "blocks": [
                {
                  "id": "quiz-l1-8",
                  "type": "quiz",
                  "content": {
                    "question": "$\\lim_{x \\to a} f(x)$ có thể tồn tại khi $f(a)$ được xác định nhưng khác giới hạn không?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Không — giới hạn phải bằng $f(a)$"
                      },
                      {
                        "value": "b",
                        "label": "Có — giới hạn phụ thuộc vào giá trị lân cận, không phải $f(a)$"
                      },
                      {
                        "value": "c",
                        "label": "Chỉ với đa thức"
                      },
                      {
                        "value": "d",
                        "label": "Chỉ khi $f(a) = 0$"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Giới hạn xét hành vi gần $a$, không quan tâm giá trị tại $a$."
                  }
                }
              ]
            },
            {
              "order_index": 11,
              "blocks": [
                {
                  "id": "quiz-l1-9",
                  "type": "quiz",
                  "content": {
                    "question": "Cảm biến đọc 0°C lúc 12:00 nhưng đọc 20.1, 20.05, 20.01 lúc 11:59, 11:59:30, 11:59:59. Giới hạn nhiệt độ khi $t \\to$ 12:00?",
                    "options": [
                      {
                        "value": "a",
                        "label": "0°C"
                      },
                      {
                        "value": "b",
                        "label": "20°C"
                      },
                      {
                        "value": "c",
                        "label": "20.01°C"
                      },
                      {
                        "value": "d",
                        "label": "Không xác định"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Giá trị tiến về 20°C. Số đọc tại 12:00 (0°C) là lỗi cảm biến — giới hạn xét lân cận, không phải tại điểm."
                  }
                }
              ]
            }
          ]
        },
        {
          "id": "khi-gioi-han-khong-ton-tai",
          "title": "Khi Giới Hạn Không Tồn Tại",
          "description": "Ba cách giới hạn thất bại: nhảy, không bị chặn, và dao động.",
          "xp_reward": 10,
          "order_index": 2,
          "slides": [
            {
              "order_index": 0,
              "blocks": [
                {
                  "id": "ia-dao-dong",
                  "type": "interaction",
                  "content": {
                    "interactionType": "C",
                    "lesson": {
                      "interactionType": "C",
                      "parameterSpec": {
                        "time": {
                          "start": 0,
                          "end": 9,
                          "step": 0.01
                        }
                      },
                      "systemSpec": {
                        "initialState": {
                          "x": 1,
                          "y": 0.84
                        },
                        "evolutionRule": {
                          "type": "expression",
                          "expression": "[-0.1, 50 * (sin(1 / (abs(x) + 0.01)) - y)]",
                          "variables": [
                            "t",
                            "x",
                            "y"
                          ]
                        }
                      },
                      "representationSpec": {
                        "encoding": "positionTime",
                        "viewBox": {
                          "xMin": 0,
                          "xMax": 1.2,
                          "yMin": -1.5,
                          "yMax": 1.5
                        },
                        "xLabel": "x",
                        "yLabel": "f(x) = sin(1/x)"
                      },
                      "reflectionSpec": {
                        "triggers": [
                          {
                            "type": "timeReached",
                            "value": 7.5,
                            "message": "Dao động vĩnh viễn giữa −1 và 1. Không có giá trị giới hạn nào — giới hạn không tồn tại."
                          },
                          {
                            "type": "timeReached",
                            "value": 5.0,
                            "message": "Dao động ngày càng dữ dội — f(x) không ổn định khi x tiến về 0."
                          },
                          {
                            "type": "timeReached",
                            "value": 2.0,
                            "message": "Quan sát: khi x giảm dần, sin(1/x) bắt đầu lắc nhanh hơn."
                          }
                        ]
                      },
                      "prompt": "Quan sát sin(1/x) khi x tiến về 0. Giá trị có ổn định không?"
                    }
                  }
                }
              ]
            },
            {
              "order_index": 1,
              "blocks": [
                {
                  "id": "text-ba-cach-that-bai",
                  "type": "text",
                  "content": {
                    "heading": "Ba cách giới hạn thất bại",
                    "paragraphs": [
                      "$\\lim_{x \\to a} f(x)$ không tồn tại khi: (1) Giới hạn một phía bất đồng (<b>nhảy</b>). (2) $f(x) \\to \\pm\\infty$ (<b>không bị chặn</b>). (3) $f(x)$ dao động không ngừng (<b>dao động</b>).",
                      "Tương tác vừa minh họa trường hợp (3): $\\sin(1/x)$ dao động vô hạn khi $x \\to 0$."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 2,
              "blocks": [
                {
                  "id": "text-dao-dong",
                  "type": "text",
                  "content": {
                    "heading": "Dao động ngăn cản hội tụ",
                    "paragraphs": [
                      "Với $f(x) = \\sin(1/x)$: khi $x \\to 0^+$, đối số $1/x \\to \\infty$ khiến $\\sin$ xoay vòng vô hạn. Không có giá trị $L$ nào thỏa mãn điều kiện hội tụ."
                    ]
                  }
                }
              ]
            },
            {
              "order_index": 3,
              "blocks": [
                {
                  "id": "quiz-l3-1",
                  "type": "quiz",
                  "content": {
                    "question": "Trong hoạt hình, $f(x) = \\sin(1/x)$ có tiến về một giá trị khi $x \\to 0$ không?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Có, tiến về 0"
                      },
                      {
                        "value": "b",
                        "label": "Có, tiến về 1"
                      },
                      {
                        "value": "c",
                        "label": "Không — dao động giữa −1 và 1 không ngừng"
                      },
                      {
                        "value": "d",
                        "label": "Tiến về $\\infty$"
                      }
                    ],
                    "correct": "c",
                    "explanation": "$\\sin(1/x)$ lắc vĩnh viễn giữa $-1$ và $1$ — không ổn định."
                  }
                }
              ]
            },
            {
              "order_index": 4,
              "blocks": [
                {
                  "id": "quiz-l3-2",
                  "type": "quiz",
                  "content": {
                    "question": "$f(x) = 1/(x - 3)$. Chuyện gì xảy ra khi $x \\to 3$?",
                    "options": [
                      {
                        "value": "a",
                        "label": "$f(x) \\to 0$"
                      },
                      {
                        "value": "b",
                        "label": "$f(x) \\to 3$"
                      },
                      {
                        "value": "c",
                        "label": "$f(x) \\to +\\infty$ từ phải, $-\\infty$ từ trái"
                      },
                      {
                        "value": "d",
                        "label": "$f(x) \\to 1$"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Mẫu tiến về 0 → hàm phát tán. Dấu khác nhau từ mỗi phía."
                  }
                }
              ]
            },
            {
              "order_index": 5,
              "blocks": [
                {
                  "id": "quiz-l3-3",
                  "type": "quiz",
                  "content": {
                    "question": "Trường hợp thất bại nào áp dụng cho $f(x) = 1/(x-3)$ tại $x = 3$?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Nhảy"
                      },
                      {
                        "value": "b",
                        "label": "Không bị chặn"
                      },
                      {
                        "value": "c",
                        "label": "Dao động"
                      },
                      {
                        "value": "d",
                        "label": "Giới hạn tồn tại"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$f(x) \\to \\pm\\infty$ — không bị chặn."
                  }
                }
              ]
            },
            {
              "order_index": 6,
              "blocks": [
                {
                  "id": "quiz-l3-4",
                  "type": "quiz",
                  "content": {
                    "question": "$f(x) = \\begin{cases} 1 & x < 0 \\\\ -1 & x \\geq 0 \\end{cases}$ tại $x = 0$: loại thất bại nào?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Nhảy"
                      },
                      {
                        "value": "b",
                        "label": "Không bị chặn"
                      },
                      {
                        "value": "c",
                        "label": "Dao động"
                      },
                      {
                        "value": "d",
                        "label": "Giới hạn tồn tại"
                      }
                    ],
                    "correct": "a",
                    "explanation": "Giới hạn trái = 1 ≠ −1 = giới hạn phải. Đây là bất liên tục nhảy."
                  }
                }
              ]
            },
            {
              "order_index": 7,
              "blocks": [
                {
                  "id": "quiz-l3-5",
                  "type": "quiz",
                  "content": {
                    "question": "$g(x) = x \\cdot \\sin(1/x)$. Khi $x \\to 0$, giới hạn có tồn tại?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Không — $\\sin(1/x)$ vẫn dao động"
                      },
                      {
                        "value": "b",
                        "label": "Có — thừa số $x$ thu nhỏ dao động về 0"
                      },
                      {
                        "value": "c",
                        "label": "Bằng 1"
                      },
                      {
                        "value": "d",
                        "label": "Không bị chặn"
                      }
                    ],
                    "correct": "b",
                    "explanation": "$|x \\cdot \\sin(1/x)| \\leq |x| \\to 0$. Thừa số $x$ kẹp dao động."
                  }
                }
              ]
            },
            {
              "order_index": 8,
              "blocks": [
                {
                  "id": "quiz-l3-6",
                  "type": "quiz",
                  "content": {
                    "question": "Đúng hay Sai: Nếu $f(a)$ không xác định thì $\\lim_{x \\to a} f(x)$ không tồn tại.",
                    "options": [
                      {
                        "value": "a",
                        "label": "Đúng — không có giá trị thì không có giới hạn"
                      },
                      {
                        "value": "b",
                        "label": "Sai — L1 cho thấy $(x^2-1)/(x-1)$ có giới hạn tại $x = 1$ dù không xác định"
                      },
                      {
                        "value": "c",
                        "label": "Đúng chỉ với dao động"
                      },
                      {
                        "value": "d",
                        "label": "Tùy miền xác định"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Giới hạn xét hành vi lân cận, không cần $f(a)$ tồn tại."
                  }
                }
              ]
            },
            {
              "order_index": 9,
              "blocks": [
                {
                  "id": "quiz-l3-7",
                  "type": "quiz",
                  "content": {
                    "question": "Giá cổ phiếu dao động giữa $90 và $110 mỗi mili-giây khi thị trường đóng cửa. Giới hạn giá khi $t \\to$ đóng cửa?",
                    "options": [
                      {
                        "value": "a",
                        "label": "Có, bằng $100"
                      },
                      {
                        "value": "b",
                        "label": "Có, bằng $110"
                      },
                      {
                        "value": "c",
                        "label": "Không — dao động ngăn cản hội tụ"
                      },
                      {
                        "value": "d",
                        "label": "Bằng giá đóng cửa"
                      }
                    ],
                    "correct": "c",
                    "explanation": "Giá lắc liên tục không ổn định → giới hạn không tồn tại."
                  }
                }
              ]
            },
            {
              "order_index": 10,
              "blocks": [
                {
                  "id": "quiz-l3-8",
                  "type": "quiz",
                  "content": {
                    "question": "Để giới hạn tồn tại, $f(x)$ phải ______ khi $x \\to a$:",
                    "options": [
                      {
                        "value": "a",
                        "label": "Xác định tại $a$"
                      },
                      {
                        "value": "b",
                        "label": "Tiến về một giá trị duy nhất từ cả hai phía"
                      },
                      {
                        "value": "c",
                        "label": "Dương"
                      },
                      {
                        "value": "d",
                        "label": "Liên tục"
                      }
                    ],
                    "correct": "b",
                    "explanation": "Hội tụ = tiến về một giá trị duy nhất từ mọi hướng."
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}